if(typeof magic!="function"){var magic=function(){}}magic.resourcePath="";magic.skinName="default";magic.version="1.0.0.0";/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",false,true);var T3,baidu3=T3=baidu3||function(a,b){return baidu3.dom?baidu3.dom(a,b):null};baidu3.version="2.0.0.0";baidu3.guid="$baidu3$";baidu3.key="tangram_guid";window[baidu3.guid]=window[baidu3.guid]||{};baidu3.check=baidu3.check||function(){};baidu3.lang=baidu3.lang||{};baidu3.forEach=function(a,e,d){var c,f,b;if(typeof e=="function"&&a){if(typeof a.length=="number"){for(c=0,f=a.length;c<f;c++){b=a[c]||(a.charAt&&a.charAt(c));e.call(d||null,b,c,a)}}else{if(typeof a=="number"){for(c=0;c<a;c++){e.call(d||null,c,c,c)}}else{if(typeof a=="object"){for(c in a){if(a.hasOwnProperty(c)){e.call(d||null,a[c],c,a)}}}}}}return a};baidu3.type=(function(){var b={},a=[,"HTMLElement","Attribute","Text",,,,,"Comment","Document",,"DocumentFragment",],d="Array Boolean Date Error Function Number RegExp String",c=b.toString;baidu3.forEach(d.split(" "),function(e){b["[object "+e+"]"]=e.toLowerCase();baidu3["is"+e]=function(f){return baidu3.type(f)==e.toLowerCase()}});return function(f){var e=typeof f;return e!="object"?e:f==null?"null":f._type_||b[c.call(f)]||a[f.nodeType]||(f==f.window?"Window":"")||"object"}})();baidu3.isDate=function(a){return baidu3.type(a)=="date"&&a.toString()!="Invalid Date"&&!isNaN(a)};baidu3.isElement=function(a){return baidu3.type(a)=="HTMLElement"};baidu3.isEnumerable=function(a){return a!=null&&typeof a=="object"&&(typeof a.length=="number"||typeof a[0]!="undefined")};baidu3.isNumber=function(a){return baidu3.type(a)=="number"&&isFinite(a)};baidu3.isPlainObject=function(c){var a,b=Object.prototype.hasOwnProperty;if(baidu3.type(c)!="object"){return false}if(c.constructor&&!b.call(c,"constructor")&&!b.call(c.constructor.prototype,"isPrototypeOf")){return false}for(a in c){}return a===undefined||b.call(c,a)};baidu3.isObject=function(a){return typeof a==="function"||(typeof a==="object"&&a!=null)};baidu3._util_=baidu3._util_||{};baidu3.global=baidu3.global||(function(){var a=baidu3._util_.$global=window[baidu3.guid];return function(c,d,b){if(typeof d!="undefined"){d=b&&typeof a[c]!="undefined"?a[c]:d;a[c]=d}else{if(c&&typeof a[c]=="undefined"){a[c]={}}}return a[c]}})();baidu3.extend=function(c,f){var d,m,k,a,b,g=1,e=arguments.length,l=c||{},h,j;baidu3.isBoolean(c)&&(g=2)&&(l=f||{});!baidu3.isObject(l)&&(l={});for(;g<e;g++){m=arguments[g];if(baidu3.isObject(m)){for(k in m){a=l[k];b=m[k];if(a===b){continue}if(baidu3.isBoolean(c)&&c&&b&&(baidu3.isPlainObject(b)||(h=baidu3.isArray(b)))){if(h){h=false;j=a&&baidu3.isArray(a)?a:[]}else{j=a&&baidu3.isPlainObject(a)?a:{}}l[k]=baidu3.extend(c,j,b)}else{if(b!==undefined){l[k]=b}}}}}return l};baidu3.browser=baidu3.browser||function(){var b=navigator.userAgent;var a={isStrict:document.compatMode=="CSS1Compat",isGecko:/gecko/i.test(b)&&!/like gecko/i.test(b),isWebkit:/webkit/i.test(b)};try{/(\d+\.\d+)/.test(external.max_version)&&(a.maxthon=+RegExp["\x241"])}catch(c){}switch(true){case /msie (\d+\.\d+)/i.test(b):a.ie=document.documentMode||+RegExp["\x241"];break;case /chrome\/(\d+\.\d+)/i.test(b):a.chrome=+RegExp["\x241"];break;case /(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(b)&&!/chrome/i.test(b):a.safari=+(RegExp["\x241"]||RegExp["\x242"]);break;case /firefox\/(\d+\.\d+)/i.test(b):a.firefox=+RegExp["\x241"];break;case /opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(b):a.opera=+(RegExp["\x246"]||RegExp["\x242"]);break}baidu3.extend(baidu3,a);return a}();baidu3.id=function(){var b=baidu3.global("_maps_id"),a=baidu3.key;baidu3.global("_counter",1,true);return function(c,g){var f,j=baidu3.isString(c),d=baidu3.isObject(c),h=d?c[a]:j?c:"";if(baidu3.isString(g)){switch(g){case"get":return d?h:b[h];break;case"remove":case"delete":if(f=b[h]){if(baidu3.browser.ie&&baidu3.isElement(f)){f.removeAttribute(a)}else{delete f[a]}delete b[h]}return h;break;case"decontrol":!(f=b[h])&&d&&(c[a]=h=baidu3.id());h&&delete b[h];return h;break;default:if(j){(f=b[h])&&delete b[h];f&&(b[f[a]=g]=f)}else{if(d){h&&delete b[h];b[c[a]=g]=c}}return g}}if(d){!h&&(b[c[a]=h=baidu3.id()]=c);return h}else{if(j){return b[c]}}return"TANGRAM__"+baidu3._util_.$global._counter++}}();baidu3.id.key="tangram_guid";baidu3.createChain=function(f,d,c){var b=f=="dom"?"$DOM":"$"+f.charAt(0).toUpperCase()+f.substr(1);var e=Array.prototype.slice;var a=baidu3[f]=baidu3[f]||d||function(g){return baidu3.extend(g,baidu3[f].fn)};a.extend=function(g){var h;for(h in g){a[h]=function(){var l=arguments[0];f=="dom"&&baidu3.type(l)=="string"&&(l="#"+l);var k=a(l);var j=k[h].apply(k,e.call(arguments,1));return baidu3.type(j)=="$DOM"?j.get(0):j}}return baidu3.extend(baidu3[f].fn,g)};baidu3[f][b]=baidu3[f][b]||c||function(){};a.fn=baidu3[f][b].prototype;return a};baidu3.overwrite=function(a,d,c){for(var b=d.length-1;b>-1;b--){a.prototype[d[b]]=c(d[b])}return a};baidu3.createChain("event",function(){var a={};return function(c,b){switch(baidu3.type(c)){case"object":return a.originalEvent===c?a:(a=new baidu3.event.$Event(c));case"$Event":return c;case"string":var d=new baidu3.event.$Event(c);typeof b=="object"&&baidu3.forEach(d,b);return d}}}(),function(d){var j,b,g;var c=this;this._type_="$Event";if(typeof d=="object"&&d.type){c.originalEvent=j=d;baidu3.forEach("altKey bubbles button buttons cancelable clientX clientY ctrlKey commandKey currentTarget fromElement metaKey screenX screenY shiftKey toElement type view which triggerData".split(" "),function(e){c[e]=j[e]});c.target=c.srcElement=j.srcElement||((b=j.target)?(b.nodeType==3?b.parentNode:b):null);c.relatedTarget=j.relatedTarget||((b=j.fromElement)?(b===c.target?j.toElement:b):null);c.keyCode=c.which=j.keyCode||j.which;if(!c.which&&j.button!==undefined){c.which=j.button&1?1:(j.button&2?3:(j.button&4?2:0))}var h=document.documentElement,a=document.body;c.pageX=j.pageX||(j.clientX+(h&&h.scrollLeft||a&&a.scrollLeft||0)-(h&&h.clientLeft||a&&a.clientLeft||0));c.pageY=j.pageY||(j.clientY+(h&&h.scrollTop||a&&a.scrollTop||0)-(h&&h.clientTop||a&&a.clientTop||0));c.data}typeof d=="string"&&(this.type=d);this.timeStamp=new Date().getTime()}).extend({stopPropagation:function(){var a=this.originalEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=true)},preventDefault:function(){var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=false)}});baidu3.merge=function(e,c){var d=e.length,b=0;if(typeof c.length==="number"){for(var a=c.length;b<a;b++){e[d++]=c[b]}}else{while(c[b]!==undefined){e[d++]=c[b++]}}e.length=d;return e};baidu3.createChain("array",function(d){var c=baidu3.array.$Array.prototype,b=Array.prototype,a;baidu3.type(d)!="array"&&(d=[]);for(a in c){b[a]||(d[a]=c[a])}return d});baidu3.overwrite(baidu3.array.$Array,"concat slice".split(" "),function(a){return function(){return baidu3.array(Array.prototype[a].apply(this,arguments))}});baidu3.array.extend({unique:function(e){var b=this.length,a=this.slice(0),d,c;if("function"!=typeof e){e=function(g,f){return g===f}}while(--b>0){c=a[b];d=b;while(d--){if(e(c,a[d])){a.splice(b,1);break}}}b=this.length=a.length;for(d=0;d<b;d++){this[d]=a[d]}return this}});baidu3.query=baidu3.query||(function(){var d=/^(\w*)#([\w\-\$]+)$/,a=/^#([\w\-\$]+)$/;rTag=/^\w+$/,rClass=/^(\w*)\.([\w\-\$]+)$/,rComboClass=/^(\.[\w\-\$]+)+$/;rDivider=/\s*,\s*/,rSpace=/\s+/g,slice=Array.prototype.slice;function c(h,f){var p,o,e,j,g,n,k,m,l=[];if(d.test(h)){e=RegExp.$2;g=RegExp.$1||"*";baidu3.forEach(f.getElementsByTagName(g),function(q){q.id==e&&l.push(q)})}else{if(rTag.test(h)||h=="*"){baidu3.merge(l,f.getElementsByTagName(h))}else{if(rClass.test(h)){k=[];g=RegExp.$1;n=RegExp.$2;p=" "+n+" ";if(f.getElementsByClassName){k=f.getElementsByClassName(n)}else{baidu3.forEach(f.getElementsByTagName("*"),function(q){q.className&&(" "+q.className+" ").indexOf(p)>-1&&(k.push(q))})}if(g&&(g=g.toUpperCase())){baidu3.forEach(k,function(q){q.tagName.toUpperCase()===g&&l.push(q)})}else{baidu3.merge(l,k)}}else{if(rComboClass.test(h)){m=h.substr(1).split(".");baidu3.forEach(f.getElementsByTagName("*"),function(q){if(q.className){p=" "+q.className+" ";o=true;baidu3.forEach(m,function(r){p.indexOf(" "+r+" ")==-1&&(o=false)});o&&l.push(q)}})}}}}return l}function b(e,g){var f,h=e,k="__tangram__",j=[];if(!g&&a.test(h)&&(f=document.getElementById(h.substr(1)))){return[f]}g=g||document;if(g.querySelectorAll){if(g.nodeType==1&&!g.id){g.id=k;f=g.querySelectorAll("#"+k+" "+h);g.id=""}else{f=g.querySelectorAll(h)}return f}else{if(h.indexOf(" ")==-1){return c(h,g)}baidu3.forEach(c(h.substr(0,h.indexOf(" ")),g),function(l){baidu3.merge(j,b(h.substr(h.indexOf(" ")+1),l))})}return j}return function(f,h,g){if(!f||typeof f!="string"){return g||[]}var e=[];f=f.replace(rSpace," ");g&&baidu3.merge(e,g)&&(g.length=0);baidu3.forEach(f.indexOf(",")>0?f.split(rDivider):[f],function(j){baidu3.merge(e,b(j,h))});return baidu3.merge(g||[],baidu3.array(e).unique())}})();baidu3.createChain("dom",function(a,b){var d,c=new baidu3.dom.$DOM(b);if(!a){return c}if(a._type_=="$DOM"){return a}else{if(a.nodeType||a==a.window){c[0]=a;c.length=1;return c}else{if(a.length&&c.toString.call(a)!="[object String]"){return baidu3.merge(c,a)}else{if(typeof a=="string"){if(a.charAt(0)=="<"&&a.charAt(a.length-1)==">"&&a.length>3){if(baidu3.dom.createElements){baidu3.merge(c,baidu3.dom.createElements(a))}}else{baidu3.query(a,b,c)}}else{if(typeof a=="function"){return c.ready?c.ready(a):c}}}}}return c},function(a){this.length=0;this._type_="$DOM";this.context=a||document}).extend({size:function(){return this.length},splice:function(){},get:function(a){if(typeof a=="number"){return a<0?this[this.length+a]:this[a]}return Array.prototype.slice.call(this,0)},toArray:function(){return this.get()}});baidu3.dom.extend({each:function(c){baidu3.check("function","baidu3.dom.each");var b,a,d=this.length;for(b=0;b<d;b++){a=c.call(this[b],b,this[b],this);if(a===false||a=="break"){break}}return this}});baidu3.dom.match=function(){var b=/^[\w\#\-\$\.\*]+$/,c=document.createElement("DIV");c.id="__tangram__";return function(l,e,j){var f,h=baidu3.array();switch(baidu3.type(e)){case"$DOM":for(var d=l.length-1;d>-1;d--){for(var k=e.length-1;k>-1;k--){l[d]===e[k]&&h.push(l[d])}}break;case"function":baidu3.forEach(l,function(n,m){e.call(n,m)&&h.push(n)});break;case"HTMLElement":baidu3.forEach(l,function(m){m==e&&h.push(m)});break;case"string":var g=baidu3.query(e,j||document);baidu3.forEach(l,function(p){if(f=a(p)){var o=f.nodeType==1?baidu3.query(e,f):g;for(var m=0,q=o.length;m<q;m++){if(o[m]===p){h.push(p);break}}}});h=h.unique();break;default:h=baidu3.array(l).unique();break}return h};function a(f){var d=[],e;while(f=f.parentNode){f.nodeType&&d.push(f)}for(var e=d.length-1;e>-1;e--){if(d[e].nodeType==1||d[e].nodeType==9){return d[e]}}return null}}();baidu3.dom.extend({is:function(a){return baidu3.dom.match(this,a).length>0}});baidu3._util_.eventBase=function(){var a={};var e={};var k=window.addEventListener?function(n,l,m){n.addEventListener(l,m,false)}:window.attachEvent?function(n,l,m){n.attachEvent("on"+l,m)}:function(){};var j=function(o,l,n){var q=baidu3.id(o);var p=e[q]=e[q]||{};if(p[l]){return}p[l]=1;var m=function(u){var s=Array.prototype.slice.call(arguments,1);s.unshift(u=baidu3.event(u));if(!u.currentTarget){u.currentTarget=o}for(var t=0,r=n.length;t<r;t+=2){n[t].apply(this,s)}};k(o,l,m)};var c=function(q,m,s,o,p){var t=function(v){var u=baidu3.dom(v.target);if(p&&!v.data){v.data=p}if(v.triggerData){[].push.apply(arguments,v.triggerData)}if(!o){return v.result=s.apply(q,arguments)}if(u.is(o)||u.is(o+" *")){return v.result=s.apply(baidu3.dom(v.target).closest(o)[0],arguments)}};var n=baidu3.id(q);var r=a[n]||(a[n]={});var l=r[m]||(r[m]=[]);l.push(t,s);j(q,m,l);return t};var h=function(r,l,u,o){var m;if(!(m=baidu3.id(r,"get"))){return}var t=a[m]||(a[m]={});var s={mouseenter:"mouseover",mouseleave:"mouseout",focusin:"focus",focusout:"blur"};var n=t[l]||(t[l]=[]);if(s[l]){t[s[l]]=[]}for(var p=n.length-1,q;p>=0;p--){if(q=n[p],q===u){n.splice(p-1,2)}}};var d=function(o,n){var m;if(!(m=baidu3.id(o,"get"))){return}var p=a[m]||(a[m]={});var l=function(r){var q=p[r]||(p[r]=[]);for(var s=q.length-1,t;s>=0;s-=2){t=q[s],h(o,r,t)}};if(n){l(n)}else{for(var n in p){l(n)}}};var b=function(t,o,n){var p;if(!(p=baidu3.id(t,"get"))){return}var v=a[p]||(a[p]={});var q=v[o]||(v[o]=[]);var m=baidu3.event({type:o});var u=[m];if(n){m.triggerData=n,u.push.apply(u,n)}for(var s=0,r=q.length;s<r;s+=2){q[s].apply(this,u)}};var g=function(s){var o;if(!(o=baidu3.id(s,"get"))){return}var t=a[o]||(a[o]={});var p={},m;for(var r in t){m=p[r]=[];ce=t[r];for(var q=1,n=ce.length;q<n;q+=2){m.push(ce[q])}}return p};var f=function(n){switch(n){case"focusin":case"focusout":if(!/firefox/i.test(navigator.userAgent)){return false}var m={},l=n=="focusin"?"focus":"blur";m[n]=function(s,q){if(typeof s=="function"){q=s,s=null}var r=this;if(!q){return this.triggerHandler(n,s)}else{var p=function(){r.triggerHandler(n)};baidu3.forEach(this,function(t){baidu3("textarea,select,input,button,a",t).on(l,p)});return this._on(n,s,q),this}};return baidu3.dom.extend(m),true;case"mouseenter":case"mouseleave":if(/msie/i.test(navigator.userAgent)){return false}var m={},l=n=="mouseenter"?"mouseover":"mouseout";var o=baidu3.dom.contains;m[n]=function(s,q){if(arguments.length==0){return this.trigger(n)}if(typeof s=="function"){q=s,s=null}var r=this;var p=function(t){related=t.relatedTarget;if(!related||(related!==this&&!o(this,related))){r.triggerHandler(n)}};baidu3.forEach(this,function(t){this.on(l,p)},this);return this._on(n,s,q),this};return baidu3.dom.extend(m),true}return false};return{add:function(p,n,m,l,o){return c(p,n,m,l,o)},get:function(l){return g(l)},remove:function(o,n,m,l){var p;if((p=baidu3.id(o,"get"))&&m&&m["_"+p+"_"+n]){m=m["_"+p+"_"+n],delete m["_"+p+"_"+n]}if(typeof m=="function"){return h(o,n,m,l)}else{return d(o,n,l)}},removeAll:function(l){return d(l)},fireHandler:function(n,m,l){return b(n,m,l)},method:function(o){if(arguments.length>1){for(var p=0,m=arguments.length;p<m;p++){this.method(arguments[p])}return this}if(!f(o)){var n={};n[o]=function(q,l){if(arguments.length==0){return this.trigger(o)}else{if(typeof q=="function"){l=q,q=null}return this._on(o,q,l)}};baidu3.dom.extend(n)}},_getEventsLength:function(p,q){var l=0,o;if(p){o=a[baidu3.id(p[0]||p,"get")];if(q){o[q]&&(l=o[q].length)}else{for(var n in o){l+=o[n].length}}}else{for(var n in a){o=a[n];for(var m in o){l+=o[m].length}}}return l/2}}}();baidu3._util_.eventBase.method("blur","change","click","dblclick","error","focus","focusin","focusout","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit","load","unload","contextmenu");baidu3.dom.extend({triggerHandler:function(c,b){var a=baidu3._util_.eventBase;baidu3.forEach(this,function(d){a.fireHandler(d,c,b)});return this}});baidu3.dom._g=function(a){return baidu3.type(a)==="string"?document.getElementById(a):a};baidu3.dom.extend({contains:function(b){b=baidu3.dom(b);if(this.size()<=0||b.size()<=0){return false}var a=this[0];b=b[0];return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b)&16)}});baidu3.dom.contains=function(a,b){var c=baidu3.dom._g;a=c(a);b=c(b);return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b)&16)};baidu3.dom.extend({closest:function(a,c){var b=baidu3.array();baidu3.forEach(this,function(e){var d=[e];while(e=e.parentNode){e.nodeType&&d.push(e)}d=baidu3.dom.match(d,a,c);d.length&&b.push(d[0])});return baidu3.dom(b.unique())}});baidu3.dom.g=function(a){if(!a){return null}if("string"==typeof a||a instanceof String){return document.getElementById(a)}else{if(a.nodeName&&(a.nodeType==1||a.nodeType==9)){return a}}return null};baidu3.dom.extend({on:function(d,a,f,e){var c=baidu3._util_.eventBase;var b={mouseenter:1,mouseleave:1,focusin:1,focusout:1};if(typeof a=="object"&&a){e=f,f=a,a=null}else{if(typeof f=="function"){e=f,f=null}else{if(typeof a=="function"){e=a,a=f=null}}}if(typeof d=="string"){d=d.split(/[ ,]+/);this.each(function(){baidu3.forEach(d,function(g){if(b[g]){baidu3(this)[g](f,e)}else{c.add(this,g,e,a,f)}},this)})}else{if(typeof d=="object"){if(e){e=null}baidu3.forEach(d,function(h,g){this.on(g,a,f,h)},this)}}return this},_on:function(a,d,c){var b=baidu3._util_.eventBase;this.each(function(){b.add(this,a,c,undefined,d)});return this}});baidu3.event.on=baidu3.on=function(a,c,b){a=baidu3.dom.g(a);baidu3.dom(a).on(c.replace(/^\s*on/,""),b);return a};(function(){magic.setup=magic.setup||function(h,d,e){var g=c(h,"tang-param")||{};for(var f in e){g[f]=e[f]}var k=new d(g);k.$mappingDom("",h);b(h,k.guid);var j=h.getElementsByTagName("*");for(var f=j.length-1;f>=0;f--){b(j[f],k.guid)}return k};function c(h,d){var k=h.getAttribute(d),j,g=false;if(k&&(j=k.match(a[0]))){g={};for(var f=0,e;f<j.length;f++){e=j[f].match(a[1]);!isNaN(e[2])&&(e[2]=+e[2]);a[2].test(e[2])&&(e[2]=e[2].replace(a[3],"\x242"));a[4].test(e[2])&&(e[2]=a[5].test(e[2]));g[e[1]]=e[2]}}return g}var a=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i];function b(g,d){var f=c(g,"tang-event");if(f){for(var e in f){var h=f[e].substr(1);h.indexOf("(")<0&&(h+="()");baidu3.dom(g).on(e,new Function("baidu3Instance('"+d+"') && baidu3Instance('"+d+"')"+h))}}}})();baidu3.array.extend({indexOf:function(b,c){baidu3.check(".+(,number)?","baidu3.array.indexOf");var a=this.length;(c=c|0)<0&&(c=Math.max(0,a+c));for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}});baidu3.array.extend({contains:function(a){return this.indexOf(a)>-1}});baidu3.dom.extend({addClass:function(b){if(arguments.length<=0){return this}switch(typeof b){case"string":b=b.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var a=b.split(" ");baidu3.forEach(this,function(e,c){var f="";if(e.className){f=e.className}for(var d=0;d<a.length;d++){if((" "+f+" ").indexOf(" "+a[d]+" ")==-1){f+=(" "+a[d])}}e.className=f.replace(/^\s+/g,"")});break;case"function":baidu3.forEach(this,function(d,c){baidu3.dom(d).addClass(b.call(d,c,d.className))});break}return this}});baidu3.dom.extend({removeClass:function(b){if(arguments.length<=0){baidu3.forEach(this,function(c){c.className=""})}switch(typeof b){case"string":b=String(b).replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var a=b.split(" ");baidu3.forEach(this,function(d){var e=d.className;for(var c=0;c<a.length;c++){while((" "+e+" ").indexOf(" "+a[c]+" ")>=0){e=(" "+e+" ").replace(" "+a[c]+" "," ")}}d.className=e.replace(/^\s+/g,"").replace(/\s+$/g,"")});break;case"function":baidu3.forEach(this,function(e,c,d){baidu3.dom(e).removeClass(b.call(e,c,e.className))});break}return this}});baidu3.dom.extend({ready:function(){var f=false,e=[],b;if(document.addEventListener){b=function(){document.removeEventListener("DOMContentLoaded",b,false);c()}}else{if(document.attachEvent){b=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",b);c()}}}}function c(){if(!c.isReady){c.isReady=true;for(var h=0,g=e.length;h<g;h++){e[h]()}}}function a(){try{document.documentElement.doScroll("left")}catch(g){setTimeout(a,1);return}c()}function d(){if(f){return}f=true;if(document.readyState==="complete"){c.isReady=true}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false);window.addEventListener("load",c,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",b);window.attachEvent("onload",c);var g=false;try{g=window.frameElement==null}catch(h){}if(document.documentElement.doScroll&&g){a()}}}}}d();return function(g){if(g){c.isReady?g():e.push(g)}return this}}()});baidu3.dom.ready=baidu3.dom.fn.ready;baidu3.support=baidu3.support||function(){var e=document.createElement("div"),d,b,c;e.innerHTML='<a href="../a" style="top:1px; float: left; opacity: .55">Tangram</a><input type="checkbox">';b=e.getElementsByTagName("A")[0];c=e.getElementsByTagName("input")[0];c.checked=true;d={opacity:b.style.opacity==="0.55",cssFloat:!!b.style.cssFloat,noCloneChecked:c.cloneNode(true).checked,noCloneEvent:true};if(!e.addEventListener&&e.attachEvent&&e.fireEvent){e.attachEvent("onclick",function(){d.noCloneEvent=false});e.cloneNode(true).fireEvent("onclick")}baidu3(function(){var h=document.getElementsByTagName("body")[0],f=document.createElement("div"),a=document.createElement("div"),o="padding: 0; margin: 0; border: ",n="left: 0; top: 0; width: 0px; height: 0px; ",k=n+o+"0; visibility: hidden;",p=n+o+"5px solid #000; position: absolute;",r,s,m,g,q;f.style.cssText="position: static;"+k;h.insertBefore(f,h.firstChild);f.appendChild(a);a.style.cssText="position: absolute;"+k;a.innerHTML='<div style="'+p+'display: bloack;"><div style="'+o+'0; display: block; overflow: hidden;"></div></div><table style="'+p+'" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';r=a.firstChild;s=r.firstChild;q=r.nextSibling;d.hasBorderWidth=s.offsetTop>=5;d.hasTableCellBorderWidth=q.rows[0].cells[0].offsetTop>=5;s.style.position="fixed";s.style.top="20px";d.fixedPosition=s.offsetTop===20||s.offsetTop===15;d.deleteExpando=true;try{delete a.test}catch(j){d.deleteExpando=false}m=document.createElement("select");g=m.appendChild(document.createElement("option"));m.disabled=true;d.optDisabled=!g.disabled;d.optSelected=g.selected;a.setAttribute("className","t");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";var l=a.getElementsByTagName("input")[0];d.checkOn=(l.value==="on");d.htmlSerialize=!!a.getElementsByTagName("link").length;d.leadingWhitespace=(a.firstChild.nodeType===3);d.getSetAttribute=a.className!=="t";d.pixelMargin=true;a.innerHTML="";a.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";if(window.getComputedStyle){d.pixelMargin=(window.getComputedStyle(a,null)||{}).marginTop!=="1%"}var l=document.createElement("input");l.value="t";l.setAttribute("type","radio");d.radioValue=l.value==="t";d.hrefNormalized=(b.getAttribute("href")==="/a");d.style=/top/.test(b.getAttribute("style"));d.enctype=!!document.createElement("form").enctype;h.removeChild(f);f=a=r=s=q=null});return d}();baidu3.extend(baidu3._util_,{rfocusable:/^(?:button|input|object|select|textarea)$/i,rclickable:/^a(?:rea)?$/i,rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},propHooks:{tabIndex:{get:function(c){var a=baidu3._util_;var b=c.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):a.rfocusable.test(c.nodeName)||a.rclickable.test(c.nodeName)&&c.href?0:undefined}}}});if(!baidu3.support.enctype){var bu=baidu3._util_;bu.propFix.enctype="encoding"}if(!baidu3.support.optSelected){var bu=baidu3._util_;bu.propHooks.selected=baidu3.extend(bu.propHooks.selected,{get:function(b){var a=b.parentNode;if(a){a.selectedIndex;if(a.parentNode){a.parentNode.selectedIndex}}return null}})}baidu3.extend(baidu3,{_error:function(a){throw new Error(a)},_nodeName:function(b,a){return b.nodeName&&b.nodeName.toUpperCase()===a.toUpperCase()}});baidu3.extend(baidu3._util_,{rfocusable:/^(?:button|input|object|select|textarea)$/i,rtype:/^(?:button|input)$/i,rclickable:/^a(?:rea)?$/i,nodeHook:{},attrHooks:{type:{set:function(b,c){var a=baidu3._util_;if(a.rtype.test(b.nodeName)&&b.parentNode){baidu3._error("type property can't be changed")}else{if(!baidu3.support.radioValue&&c==="radio"&&baidu3._nodeName(b,"input")){var d=b.value;b.setAttribute("type",c);if(d){b.value=d}return c}}}},value:{get:function(c,b){var a=baidu3._util_;if(a.nodeHook&&baidu3._nodeName(c,"button")){return a.nodeHook.get(c,b)}return b in c?c.value:null},set:function(b,c,a){if(bu.nodeHook&&baidu3._nodeName(b,"button")){return bu.nodeHook.set(b,c,a)}b.value=c}}},boolHook:{get:function(b,a){var d,c=baidu3(b).prop(a);return c===true||typeof c!=="boolean"&&(d=b.getAttributeNode(a))&&d.nodeValue!==false?a.toLowerCase():undefined},set:function(b,d,a){var c;if(d===false){baidu3(b).removeAttr(a)}else{c=baidu3._util_.propFix[a]||a;if(c in b){b[c]=true}b.setAttribute(a,a.toLowerCase())}return a}}});baidu3._util_.attrHooks.tabindex=baidu3._util_.propHooks.tabIndex;if(!baidu3.support.getSetAttribute){var bu=baidu3._util_,fixSpecified={name:true,id:true,coords:true};bu.nodeHook={get:function(c,b){var a;a=c.getAttributeNode(b);return a&&(fixSpecified[b]?a.nodeValue!=="":a.specified)?a.nodeValue:undefined},set:function(c,d,b){var a=c.getAttributeNode(b);if(!a){a=document.createAttribute(b);c.setAttributeNode(a)}return(a.nodeValue=d+"")}};bu.attrHooks.tabindex.set=bu.nodeHook.set;baidu3.forEach(["width","height"],function(a){bu.attrHooks[a]=baidu3.extend(bu.attrHooks[a],{set:function(b,c){if(c===""){b.setAttribute(a,"auto");return c}}})});bu.attrHooks.contenteditable={get:bu.nodeHook.get,set:function(b,c,a){if(c===""){c="false"}bu.nodeHook.set(b,c,a)}}}if(!baidu3.support.hrefNormalized){var bu=baidu3._util_;baidu3.forEach(["href","src","width","height"],function(a){bu.attrHooks[a]=baidu3.extend(bu.attrHooks[a],{get:function(c){var b=c.getAttribute(a,2);return b===null?undefined:b}})})}if(!baidu3.support.style){var bu=baidu3._util_;bu.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||undefined},set:function(a,b){return(a.style.cssText=""+b)}}}baidu3._util_.isXML=function(b){var a=(b?b.ownerDocument||b:0).documentElement;return a?a.nodeName!=="HTML":false};baidu3.dom.extend({prop:function(b,e){if(arguments.length<=0||typeof b==="function"){return this}var a,d=this,c=false;if(this.size()<=0){if(b&&e){return d}else{if(b&&!e){return undefined}else{return d}}}baidu3.forEach(this,function(n,j){if(a){return}var k,m,f,h=baidu3.dom,l=baidu3._util_,g=n.nodeType;if(!n||g===3||g===8||g===2){return}f=g!==1||!baidu3._util_.isXML(n);if(f){b=l.propFix[b]||b;m=l.propHooks[b]}switch(typeof b){case"string":if(typeof e==="undefined"){if(m&&"get" in m&&(k=m.get(n,b))!==null){a=k}else{a=n[b]}}else{if(typeof e==="function"){c=true;var o=h(n);o.prop(b,e.call(n,j,o.prop(b)))}else{c=true;if(m&&"set" in m&&(k=m.set(n,e,b))!==undefined){return k}else{n[b]=e}}}break;case"object":c=true;var o=h(n);for(key in b){o.prop(key,b[key])}break;default:a=d;break}});return c?this:a}});baidu3.makeArray=function(c,b){var a=b||[];if(!c){return a}c.length==null||~"string|function|regexp".indexOf(baidu3.type(c))?Array.prototype.push.call(a,c):baidu3.merge(a,c);return a};baidu3.extend(baidu3._util_,{nodeName:function(b,a){return b.nodeName&&b.nodeName.toUpperCase()===a.toUpperCase()},valHooks:{option:{get:function(a){var b=a.attributes.value;return !b||b.specified?a.value:a.text}},select:{get:function(a){var g,b,f,d,e=a.selectedIndex,h=[],j=a.options,c=a.type==="select-one";if(e<0){return null}b=c?e:0;f=c?e+1:j.length;for(;b<f;b++){d=j[b];if(d.selected&&(baidu3.support.optDisabled?!d.disabled:d.getAttribute("disabled")===null)&&(!d.parentNode.disabled||!baidu3._util_.nodeName(d.parentNode,"optgroup"))){g=baidu3.dom(d).val();if(c){return g}h.push(g)}}if(c&&!h.length&&j.length){return baidu3(j[e]).val()}return h},set:function(b,c){var a=baidu3.makeArray(c);baidu3(b).find("option").each(function(){this.selected=baidu3.array(a).indexOf(baidu3(this).val())>=0});if(!a.length){b.selectedIndex=-1}return a}}}});if(!baidu3.support.getSetAttribute){var fixSpecified={name:true,id:true,coords:true};baidu3._util_.valHooks.button={get:function(c,b){var a;a=c.getAttributeNode(b);return a&&(fixSpecified[b]?a.value!=="":a.specified)?a.value:undefined},set:function(c,d,b){var a=c.getAttributeNode(b);if(!a){a=document.createAttribute(b);c.setAttributeNode(a)}return(a.value=d+"")}}}if(!baidu3.support.checkOn){baidu3.forEach(["radio","checkbox"],function(){baidu3._util_.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}})}baidu3.forEach(["radio","checkbox"],function(a){baidu3._util_.valHooks[a]=baidu3.extend(baidu3._util_.valHooks[a],{set:function(b,c){if(baidu3.isArray(c)){return(b.checked=baidu3.array(c).indexOf(baidu3(b).val())>=0)}}})});baidu3.dom.extend({val:function(f){var e=baidu3.dom,b=baidu3._util_,d=this,c=false,a;if(this.size()<=0){switch(typeof f){case"undefined":return undefined;break;default:return d;break}}baidu3.forEach(d,function(j,h){var g,k=/\r/g;if(a){return}switch(typeof f){case"undefined":if(j){g=b.valHooks[j.type]||b.valHooks[j.nodeName.toLowerCase()];if(g&&"get" in g&&(a=g.get(j,"value"))!==undefined){return a}a=j.value;return typeof a==="string"?a.replace(k,""):a==null?"":a}return a;break;case"function":c=true;var l=e(j);l.val(f.call(j,h,l.val()));break;default:c=true;if(j.nodeType!==1){return}if(f==null){f=""}else{if(typeof f==="number"){f+=""}else{if(baidu3.isArray(f)){f=baidu3.forEach(f,function(n,m){return n==null?"":n+""})}}}g=b.valHooks[j.type]||b.valHooks[j.nodeName.toLowerCase()];if(!g||!("set" in g)||g.set(j,f,"value")===undefined){j.value=f}break}});return c?d:a}});baidu3._util_.access=function(b,d,e){if(this.size()<=0){return this}switch(baidu3.type(b)){case"string":if(d===undefined){return e.call(this,this[0],b)}else{for(var a=0,c;c=this[a];a++){e.call(this,c,b,baidu3.type(d)==="function"?d.call(c,a,e.call(this,c,b)):d)}}break;case"object":for(var a in b){baidu3._util_.access.call(this,a,b[a],e)}break}return this};baidu3.dom.extend({getComputedStyle:function(b){var c=this[0].ownerDocument.defaultView,a=c&&c.getComputedStyle&&c.getComputedStyle(this[0],null),d=a?(a.getPropertyValue(b)||a[b]):"";return d||this[0].style[b]}});baidu3.dom.extend({getCurrentStyle:function(){var a=document.documentElement.currentStyle?function(b){return this[0].currentStyle?this[0].currentStyle[b]:this[0].style[b]}:function(b){return this.getComputedStyle(b)};return function(b){return a.call(this,b)}}()});baidu3._util_.getWidthOrHeight=function(){var a={},c={position:"absolute",visibility:"hidden",display:"block"};function b(f,d){var g={};for(var e in d){g[e]=f.style[e];f.style[e]=d[e]}return g}baidu3.forEach(["Width","Height"],function(d){var e={Width:["Right","Left"],Height:["Top","Bottom"]}[d];a["get"+d]=function(l,f){var k=baidu3.dom(l),j=l["offset"+d],g=j===0&&b(l,c),h="padding|border";g&&(j=l["offset"+d]);f&&baidu3.forEach(f.split("|"),function(m){if(!~h.indexOf(m)){j+=parseFloat(k.getCurrentStyle(m+e[0]))||0;j+=parseFloat(k.getCurrentStyle(m+e[1]))||0}else{h=h.replace(new RegExp("\\|?"+m+"\\|?"),"")}});h&&baidu3.forEach(h.split("|"),function(m){j-=parseFloat(k.getCurrentStyle(m+e[0]+(m==="border"?"Width":"")))||0;j-=parseFloat(k.getCurrentStyle(m+e[1]+(m==="border"?"Width":"")))||0});g&&b(l,g);return j}});return function(f,e,d){return a[e==="width"?"getWidth":"getHeight"](f,d)}}();baidu3.createChain("string",function(a){var b=baidu3.type(a),d=new String(~"string|number".indexOf(b)?a:b),c=String.prototype;baidu3.forEach(baidu3.string.$String.prototype,function(f,e){c[e]||(d[e]=f)});return d});baidu3.string.extend({toCamelCase:function(){var a=this.valueOf();if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})}});baidu3.dom.styleFixer=function(){var e=/alpha\s*\(\s*opacity\s*=\s*(\d{1,3})/i,a=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,f="fillOpacity,fontWeight,opacity,orphans,widows,zIndex,zoom",g={"float":baidu3.support.cssFloat?"cssFloat":"styleFloat"},b={fontWeight:{normal:400,bold:700,bolder:700,lighter:100}},d={opacity:{},width:{},height:{},fontWeight:{get:function(k,j){var h=c.get(k,j);return b.fontWeight[h]||h}}},c={set:function(j,h,k){j.style[h]=k}};baidu3.extend(d.opacity,baidu3.support.opacity?{get:function(k,j){var h=baidu3.dom(k).getCurrentStyle(j);return h===""?"1":h}}:{get:function(h){return e.test((h.currentStyle||h.style).filter||"")?parseFloat(RegExp.$1)/100:"1"},set:function(m,j,l){var k=(m.currentStyle||m.style).filter||"",h=l*100;m.style.zoom=1;m.style.filter=e.test(k)?k.replace(e,"Alpha(opacity="+h):k+" progid:dximagetransform.microsoft.Alpha(opacity="+h+")"}});baidu3.forEach(["width","height"],function(h){d[h]={get:function(j){return baidu3._util_.getWidthOrHeight(j,h)+"px"},set:function(k,j,l){baidu3.type(l)==="number"&&l<0&&(l=0);c.set(k,j,l)}}});baidu3.extend(c,document.documentElement.currentStyle?{get:function(k,j){var l=baidu3.dom(k).getCurrentStyle(j),h;if(a.test(l)){h=k.style.left;k.style.left=j==="fontSize"?"1em":l;l=k.style.pixelLeft+"px";k.style.left=h}return l}}:{get:function(j,h){return baidu3.dom(j).getCurrentStyle(h)}});return function(m,k,n){var l=baidu3.string(k).toCamelCase(),o=n===undefined?"get":"set",j,h;l=g[l]||l;j=baidu3.type(n)==="number"&&!~f.indexOf(l)?n+"px":n;h=d.hasOwnProperty(l)&&d[l][o]||c[o];return h(m,l,j)}}();baidu3.dom.extend({css:function(a,b){baidu3.check("^(?:(?:string(?:,(?:number|string|function))?)|object)$","baidu3.dom.css");return baidu3._util_.access.call(this,a,b,function(d,c,f){var e=baidu3.dom.styleFixer;return e?e(d,c,f):(f===undefined?this.getCurrentStyle(c):d.style[c]=f)})}});baidu3._util_.cleanData=function(d){var a;for(var b=0,c;c=d[b];b++){a=baidu3.id(c,"get");if(!a){continue}baidu3._util_.eventBase.removeAll(c);baidu3.id(c,"remove")}};baidu3.dom.extend({empty:function(){for(var a=0,b;b=this[a];a++){b.nodeType===1&&baidu3._util_.cleanData(b.getElementsByTagName("*"));while(b.firstChild){b.removeChild(b.firstChild)}}return this}});baidu3.dom.createElements=function(){var c=/<(\w+)/i,b=/<|&#?\w+;/,d={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};d.optgroup=d.option;d.tbody=d.tfoot=d.colgroup=d.caption=d.thead;d.th=d.td;function a(h,k){var j=h.getElementsByTagName("SCRIPT"),f,e,g;for(f=j.length-1;f>=0;f--){g=j[f];e=k.createElement("SCRIPT");g.id&&(e.id=g.id);g.src&&(e.src=g.src);g.type&&(e.type=g.type);e[g.text?"text":"textContent"]=g.text||g.textContent;g.parentNode.replaceChild(e,g)}}return function(j,m){baidu3.isNumber(j)&&(j=j.toString());m=m||document;var f,h,k,o=j,g=o.length,e=m.createElement("div"),l=m.createDocumentFragment(),p=[];if(baidu3.isString(o)){if(!b.test(o)){p.push(m.createTextNode(o))}else{f=d[o.match(c)[1].toLowerCase()]||d._default;e.innerHTML="<i>mz</i>"+f[1]+o+f[2];e.removeChild(e.firstChild);a(e,m);h=f[0];k=e;while(h--){k=k.firstChild}baidu3.merge(p,k.childNodes);baidu3.forEach(p,function(n){l.appendChild(n)});e=k=null}}e=null;return p}}();baidu3.dom.extend({getDocument:function(){if(this.size()<=0){return undefined}var a=this[0];return a.nodeType==9?a:a.ownerDocument||a.document}});baidu3.dom.extend({html:function(k){var d=baidu3.dom,l=baidu3._util_,g=this,h=false,n;if(this.size()<=0){switch(typeof k){case"undefined":return undefined;break;default:return g;break}}var c="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",j=/<(?:script|style|link)/i,b=new RegExp("<(?:"+c+")[\\s/>]","i"),f=/^\s+/,a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,e=/<([\w:]+)/,m={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};m.optgroup=m.option;m.tbody=m.tfoot=m.colgroup=m.caption=m.thead;m.th=m.td;if(!baidu3.support.htmlSerialize){m._default=[1,"X<div>","</div>"]}baidu3.forEach(g,function(p,o){if(n){return}var r=d(p);switch(typeof k){case"undefined":n=(p.nodeType===1?p.innerHTML:undefined);return n;break;case"number":k=String(k);case"string":h=true;if(!j.test(k)&&(baidu3.support.htmlSerialize||!b.test(k))&&(baidu3.support.leadingWhitespace||!f.test(k))&&!m[(e.exec(k)||["",""])[1].toLowerCase()]){k=k.replace(a,"<$1></$2>");try{if(p.nodeType===1){r.empty();p.innerHTML=k}p=0}catch(q){}}if(p){g.empty().append(k)}break;case"function":h=true;r.html(k.call(p,o,r.html()));break}});return h?g:n}});baidu3._util_.smartInsert=function(a,e,k){if(e.length<=0||a.size()<=0){return}if(baidu3.type(e[0])==="function"){var g=e[0],j;return baidu3.forEach(a,function(n,m){j=baidu3.dom(n);e[0]=g.call(n,m,j.html());baidu3._util_.smartInsert(j,e,k)})}var h=a.getDocument()||document,d=h.createDocumentFragment(),c=a.length-1,f;for(var b=0,l;l=e[b];b++){if(l.nodeType){d.appendChild(l)}else{baidu3.forEach(~"string|number".indexOf(baidu3.type(l))?baidu3.dom.createElements(l,h):l,function(m){d.appendChild(m)})}}if(!(f=d.firstChild)){return}baidu3.forEach(a,function(n,m){k.call(n.nodeName.toLowerCase()==="table"&&f.nodeName.toLowerCase()==="tr"?n.tBodies[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n,m<c?d.cloneNode(true):d)})};baidu3.dom.extend({append:function(){baidu3.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu3.dom.append");baidu3._util_.smartInsert(this,arguments,function(a){this.nodeType===1&&this.appendChild(a)});return this}});baidu3.dom.extend({text:function(f){var e=baidu3.dom,d=this,c=false,a;if(this.size()<=0){switch(typeof f){case"undefined":return undefined;break;default:return d;break}}var b=function(l){var k,h="",j=0,g=l.nodeType;if(g){if(g===1||g===9||g===11){if(typeof l.textContent==="string"){return l.textContent}else{for(l=l.firstChild;l;l=l.nextSibling){h+=b(l)}}}else{if(g===3||g===4){return l.nodeValue}}}else{for(;(k=l[j]);j++){h+=b(k)}}return h};baidu3.forEach(d,function(h,g){var j=e(h);if(a){return}switch(typeof f){case"undefined":a=b(h);return a;break;case"number":f=String(f);case"string":c=true;j.empty().append((h&&h.ownerDocument||document).createTextNode(f));break;case"function":c=true;j.text(f.call(h,g,j.text()));break}});return c?d:a}});baidu3._util_.getWindowOrDocumentWidthOrHeight=baidu3._util_.getWindowOrDocumentWidthOrHeight||function(){var a={window:{},document:{}};baidu3.forEach(["Width","Height"],function(d){var c="client"+d,e="offset"+d,b="scroll"+d;a.window["get"+d]=function(f){var h=f.document,g=h.documentElement[c];return baidu3.browser.isStrict&&g||h.body&&h.body[c]||g};a.document["get"+d]=function(f){var g=f.documentElement;return g[c]>=g[b]?g[c]:Math.max(f.body[b],g[b],f.body[e],g[e])}});return function(d,c,b){return a[c][b==="width"?"getWidth":"getHeight"](d)}}();baidu3.dom.extend({width:function(a){return baidu3._util_.access.call(this,"width",a,function(f,d,g){var c=g!==undefined,b=c&&parseFloat(g),e=f!=null&&f==f.window?"window":(f.nodeType===9?"document":false);if(c&&b<0||isNaN(b)){return}c&&/^\d+$/.test(g+="")&&(g+="px");return e?baidu3._util_.getWindowOrDocumentWidthOrHeight(f,e,d):(c?f.style.width=g:baidu3._util_.getWidthOrHeight(f,d))})}});baidu3.dom.extend({height:function(a){return baidu3._util_.access.call(this,"height",a,function(f,d,g){var c=g!==undefined,b=c&&parseFloat(g),e=f!=null&&f==f.window?"window":(f.nodeType===9?"document":false);if(c&&b<0||isNaN(b)){return}c&&/^\d+$/.test(g+="")&&(g+="px");return e?baidu3._util_.getWindowOrDocumentWidthOrHeight(f,e,d):(c?f.style.height=g:baidu3._util_.getWidthOrHeight(f,d))})}});baidu3.dom.extend({getWindow:function(){var a=this.getDocument();return(this.size()<=0)?undefined:(a.parentWindow||a.defaultView)}});baidu3.dom.extend({offset:function(){var a={getDefaultOffset:function(m,j){var c=j.documentElement,e=j.body,f=j.defaultView,g=f?f.getComputedStyle(m,null):m.currentStyle,h=/^t(?:able|h|d)/i,b=m.offsetParent,d=m.offsetLeft,k=m.offsetTop;while((m=m.parentNode)&&m!==e&&m!==c){if(baidu3.support.fixedPosition&&g.position==="fixed"){break}g=f?f.getComputedStyle(m,null):m.currentStyle;d-=m.scrollLeft;k-=m.scrollTop;if(m===b){d+=m.offsetLeft;k+=m.offsetTop;if(!baidu3.support.hasBorderWidth&&!(baidu3.support.hasTableCellBorderWidth&&h.test(m.nodeName))){d+=parseFloat(g.borderLeftWidth)||0;k+=parseFloat(g.borderTopWidth)||0}b=m.offsetParent}}if(~"static,relative".indexOf(g.position)){d+=e.offsetLeft;k+=e.offsetTop}if(baidu3.support.fixedPosition&&g.position==="fixed"){d+=Math.max(c.scrollLeft,e.scrollLeft);k+=Math.max(c.scrollTop,e.scrollTop)}return{left:d,top:k}},setOffset:function(j,e,d){var h=baidu3.dom(j),g=baidu3.type(e),c=h.offset(),b=h.getCurrentStyle("left"),f=h.getCurrentStyle("top");g==="function"&&(e=e.call(j,d,c));if(!e||e.left===undefined&&e.top===undefined){return}b=parseFloat(b)||0;f=parseFloat(f)||0;e.left!=undefined&&(j.style.left=e.left-c.left+b+"px");e.top!=undefined&&(j.style.top=e.top-c.top+f+"px");h.getCurrentStyle("position")==="static"&&(j.style.position="relative")},bodyOffset:function(b){var c=baidu3.dom(b);return{left:b.offsetLeft+parseFloat(c.getCurrentStyle("marginLeft"))||0,top:b.offsetTop+parseFloat(c.getCurrentStyle("marginTop"))||0}}};a.getOffset="getBoundingClientRect" in document.documentElement?function(e,g){if(!e.getBoundingClientRect){return a.getDefaultOffset(e,g)}var d=e.getBoundingClientRect(),f=baidu3.dom(g).getWindow(),c=g.documentElement,b=g.body;return{left:d.left+(f.pageXOffset||Math.max(c.scrollLeft,b.scrollLeft))-(c.clientLeft||b.clientLeft),top:d.top+(f.pageYOffset||Math.max(c.scrollTop,b.scrollTop))-(c.clientTop||b.clientTop)}}:a.getDefaultOffset;return function(b){if(!b){var e=this[0],f=baidu3.dom(e).getDocument();return a[e===f.body?"bodyOffset":"getOffset"](e,f)}else{baidu3.check("^(?:object|function)$","baidu3.dom.offset");for(var c=0,d;d=this[c];c++){a.setOffset(d,b,c)}return this}}}()});baidu3.dom.extend({attr:function(b,e){if(arguments.length<=0||typeof b==="function"){return this}var a,d=this,c=false;if(this.size()<=0){if(b&&e){return d}else{if(b&&!e){return undefined}else{return d}}}baidu3.forEach(this,function(o,k){if(a){return}var l,n,g,j=baidu3.dom,m=baidu3._util_,h=o.nodeType;if(!o||h===3||h===8||h===2){return}if(typeof o.getAttribute==="undefined"){var p=j(o);a=p.prop(b,e)}switch(typeof b){case"string":g=h!==1||!baidu3._util_.isXML(o);if(g){b=b.toLowerCase();n=m.attrHooks[b]||(m.rboolean.test(b)?m.boolHook:m.nodeHook)}if(typeof e==="undefined"){if(n&&"get" in n&&g&&(l=n.get(o,b))!==null){a=l}else{l=o.getAttribute(b);a=l===null?undefined:l}}else{if(typeof e==="function"){c=true;var p=j(o);p.attr(b,e.call(o,k,p.attr(b)))}else{c=true;var f={val:true,css:true,html:true,text:true,width:true,height:true,offset:true};if(b in f){a=j(o)[b](e);return}if(e===null){j(o).removeAttr(b);return}else{if(n&&"set" in n&&g&&(l=n.set(o,e,b))!==undefined){return l}else{o.setAttribute(b,""+e);return e}}}}break;case"object":c=true;var p=j(o);for(key in b){p.attr(key,b[key])}break;default:a=d;break}});return c?this:a}});baidu3.dom.extend({removeAttr:function(a){if(arguments.length<=0||!a||typeof a!=="string"){return this}baidu3.forEach(this,function(k){var f,d,b,c,j,e=0;if(k.nodeType===1){var g=baidu3.dom,h=baidu3._util_;d=a.toLowerCase().split(/\s+/);c=d.length;for(;e<c;e++){b=d[e];if(b){f=h.propFix[b]||b;j=h.rboolean.test(b);if(!j){g(k).attr(b,"")}k.removeAttribute(baidu3.support.getSetAttribute?b:f);if(j&&f in k){k[f]=false}}}}});return this}});baidu3.lang.Class=function(){this.guid=baidu3.id(this)};baidu3.lang.Class.prototype.dispose=function(){baidu3.id(this.guid,"delete");for(var a in this){typeof this[a]!="function"&&delete this[a]}this.disposed=true};baidu3.lang.Class.prototype.toString=function(){return"[object "+(this._type_||this.__type||this._className||"Object")+"]"};window.baidu3Instance=function(a){return baidu3.id(a)};baidu3.lang.guid=function(){return baidu3.id()};baidu3.lang.isString=baidu3.isString;baidu3.lang.Event=function(a,b){this.type=a;this.returnValue=true;this.target=b||null;this.currentTarget=null};baidu3.lang.Class.prototype.fire=baidu3.lang.Class.prototype.dispatchEvent=function(e,a){baidu3.lang.isString(e)&&(e=new baidu3.lang.Event(e));!this.__listeners&&(this.__listeners={});a=a||{};for(var c in a){e[c]=a[c]}var c,g,d=this,b=d.__listeners,f=e.type;e.target=e.target||(e.currentTarget=d);f.indexOf("on")&&(f="on"+f);typeof d[f]=="function"&&d[f].apply(d,arguments);if(typeof b[f]=="object"){for(c=0,g=b[f].length;c<g;c++){b[f][c]&&b[f][c].apply(d,arguments)}}return e.returnValue};baidu3.lang.Class.prototype.on=baidu3.lang.Class.prototype.addEventListener=function(e,d,c){if(typeof d!="function"){return}!this.__listeners&&(this.__listeners={});var b,a=this.__listeners;e.indexOf("on")&&(e="on"+e);typeof a[e]!="object"&&(a[e]=[]);for(b=a[e].length-1;b>=0;b--){if(a[e][b]===d){return d}}a[e].push(d);c&&typeof c=="string"&&(a[e][c]=d);return d};baidu3.lang.createClass=function(b,j){j=j||{};var g=j.superClass||baidu3.lang.Class;var h=function(){var m=this;j.decontrolled&&(m.__decontrolled=true);g.apply(m,arguments);for(k in h.options){m[k]=h.options[k]}b.apply(m,arguments);for(var k=0,l=h["\x06r"];l&&k<l.length;k++){l[k].apply(m,arguments)}};h.options=j.options||{};var a=function(){},f=b.prototype;a.prototype=g.prototype;var d=h.prototype=new a();for(var c in f){d[c]=f[c]}var e=j.className||j.type;typeof e=="string"&&(d.__type=e);d.constructor=f.constructor;h.extend=function(l){for(var k in l){h.prototype[k]=l[k]}return h};return h};baidu3.object=baidu3.object||{};baidu3.object.extend=baidu3.extend;baidu3.string.extend({format:function(a){var c=this.valueOf(),b=Array.prototype.slice.call(arguments,0),d=Object.prototype.toString;if(b.length){b=b.length==1?(a!==null&&(/\[object Array\]|\[object Object\]/.test(d.call(a)))?a:b):b;return c.replace(/#\{(.+?)\}/g,function(e,g){var f=b[g];if("[object Function]"==d.call(f)){f=f(g)}return("undefined"==typeof f?"":f)})}return c}});baidu3.string.extend({encodeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}});baidu3.lang.inherits=function(g,e,d){var c,f,a=g.prototype,b=new Function();b.prototype=e.prototype;f=g.prototype=new b();for(c in a){f[c]=a[c]}g.prototype.constructor=g;g.superClass=e.prototype;typeof d=="string"&&(f.__type=d);g.extend=function(j){for(var h in j){f[h]=j[h]}return g};return g};magic.Base=function(){baidu3.lang.Class.call(this);this._ids={};this._eid=this.guid+"__"};baidu3.lang.inherits(magic.Base,baidu3.lang.Class,"magic.Base").extend({getElement:function(a){return document.getElementById(this.$getId(a))},getElements:function(){var a={};var c=this._ids;for(var b in c){a[b]=this.getElement(b)}return a},$getId:function(a){a=baidu3.lang.isString(a)?a:"";return this._ids[a]||(this._ids[a]=this._eid+a)},$mappingDom:function(a,b){if(baidu3.lang.isString(b)){this._ids[a]=b}else{if(b&&b.nodeType){b.id?this._ids[a]=b.id:b.id=this.$getId(a)}}return this},$dispose:function(){this.fire("ondispose")&&baidu3.lang.Class.prototype.dispose.call(this)}});magic.control=magic.control||{};baidu3.dom.setPixel=function(b,a,c){typeof c!="undefined"&&(baidu3.dom.g(b).style[a]=c+(!isNaN(c)?"px":""))};magic.control.Layer=baidu3.lang.createClass(function(a){this.width="auto";this.height="auto";baidu3.object.extend(this,a||{})},{type:"magic.control.Layer",superClass:magic.Base}).extend({show:function(){if(this.fire("onbeforeshow")){this.getElement().style.display="";this.fire("onshow")}},hide:function(){if(this.fire("onbeforehide")){this.getElement().style.display="none";this.fire("onhide")}},setWidth:function(a){baidu3.dom.setPixel(this.getElement(),"width",(this.width=a))},setHeight:function(a){baidu3.dom.setPixel(this.getElement(),"height",(this.height=a))},setSize:function(a){this.setWidth(a.width||a[0]);this.setHeight(a.height||a[1])}});baidu3.dom.extend({off:function(c,a,d){var b=baidu3._util_.eventBase,e=this;if(!c){baidu3.forEach(this,function(f){b.removeAll(f)})}else{if(typeof c=="string"){if(typeof a=="function"){d=a,a=null}c=c.split(/[ ,]/);baidu3.forEach(this,function(f){baidu3.forEach(c,function(g){b.remove(f,g,d,a)})})}else{if(typeof c=="object"){baidu3.forEach(c,function(f,g){e.off(g,a,f)})}}}return this}});baidu3.event.un=baidu3.un=function(a,c,b){a=baidu3.dom.g(a);baidu3.dom(a).off(c.replace(/^\s*on/,""),b);return a};baidu3.global.set=function(b,c,a){return baidu3.global(b,c,a)};baidu3.global.get=function(a){return baidu3.global(a)};baidu3.page=baidu3.page||{};baidu3.page.getViewHeight=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientHeight};baidu3.page.getScrollTop=function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop};magic.control.Popup=baidu3.lang.createClass(function(a){var b=this;b.visible=false;b.autoHide=true;b.hideOnEscape=true;b.disposeOnHide=false;b.smartPosition=false;b.offsetX=0;b.offsetY=0;baidu3.object.extend(this,a||{});b._parent=null;b._host=null;b._init_control_popup()},{superClass:magic.control.Layer,type:"magic.control.Popup"}).extend({setContent:function(a){this.getElement("content").innerHTML=a},attach:function(b,a){if(baidu3.dom(b).size()){baidu3.object.extend(this,a||{});this._host=baidu3(b)[0];this.show()}},reposition:function(b){var d=this;!b&&d._host&&(b=baidu3.dom(d._host).offset());if(b){d.top=b.top+d.offsetY+d._host.offsetHeight;d.left=b.left+d.offsetX;d._resupinate=false;if(d.smartPosition){var e=d.getElement().offsetHeight;var f=baidu3.page.getViewHeight();var c=baidu3.page.getScrollTop();var a=b.top-d.offsetY-e;if(d.top+e>c+f&&a>c&&a<c+f){d.top=b.top-d.offsetY-e;d._resupinate=true}}}d.fire("reposition");d.setPosition([d.left,d.top])},setPosition:function(a){this.setTop(a.top||a[1]);this.setLeft(a.left||a[0])},setTop:function(a){baidu3.dom(this.getElement()).css("top",(this.top=a)+"px")},setLeft:function(a){baidu3.dom(this.getElement()).css("left",(this.left=a)+"px")},_init_control_popup:function(){var f=this;function b(){f.reposition()}function e(h){h.keyCode==27&&f.hideOnEscape&&f.autoHide&&f.hide()}function a(){var h=f;do{d[h.guid]=true}while(h=h._parent)}var g=baidu3.global.get("popupList");var d=baidu3.global.get("popupProtect");f.on("show",function(){f.reposition();setTimeout(function(){f.guid&&(g[f.guid]=true)},1);f._host&&baidu3.dom(f._host).on("click",a);baidu3.dom(f.getElement()).on("click",a);baidu3.dom(window).on("resize",b);baidu3.dom(document).on("keyup",e);f.width!="auto"&&f.setWidth(f.width);f.height!="auto"&&f.setHeight(f.height);f.visible=true});function c(h){f.visible=false;delete g[f.guid];f._host&&baidu3.dom(f._host).off("click",a);baidu3.dom(f.getElement()).off("click",a);baidu3.dom(window).off("resize",b);baidu3.dom(document).off("keyup",e);h&&f.$dispose()}f.on("hide",function(){c(f.disposeOnHide)});f.on("dispose",function(){c(false)})}});(function(){var c=baidu3.global.set("popupList",{},true);var a=baidu3.global.set("popupProtect",{},true);function b(){for(var e in c){var d=baidu3Instance(e);!a[e]&&d.autoHide&&d.hide()}for(var e in a){delete a[e]}}baidu3.dom(window).on("resize",b);baidu3.dom(window).on("scroll",b);baidu3.dom(document).on("click",b)})();baidu3.dom.extend({insertHTML:function(a,c){element=this[0];var b,d;if(element.insertAdjacentHTML&&!baidu3.browser.opera){element.insertAdjacentHTML(a,c)}else{b=element.ownerDocument.createRange();a=a.toUpperCase();if(a=="AFTERBEGIN"||a=="BEFOREEND"){b.selectNodeContents(element);b.collapse(a=="AFTERBEGIN")}else{d=a=="BEFOREBEGIN";b[d?"setStartBefore":"setEndAfter"](element);b.collapse(d)}b.insertNode(b.createContextualFragment(c))}return element}});baidu3.global.getZIndex=function(a,c){var b=baidu3.global.get("zIndex");if(a){b[a]=b[a]+(c||1)}return b[a]};baidu3.global.set("zIndex",{popup:50000,dialog:1000},true);baidu3.dom.extend({hasClass:function(c){if(arguments.length<=0||typeof c==="function"){return this}if(this.size()<=0){return false}c=c.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var b=c.split(" ");var a;baidu3.forEach(this,function(e){var f=e.className;for(var d=0;d<b.length;d++){if((" "+f+" ").indexOf(" "+b[d]+" ")==-1){a=false;return}}if(a!==false){a=true;return}});return a}});magic.Background=baidu3.lang.createClass(function(b){var c=b||{},d=this;d.coverable=c.coverable||false;d.styleBox=c.styleBox;d.tagName="div";var a="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;";d._coverDom="<div style='"+a+"opacity:0;background-color:#FFFFFF'></div>";var e=baidu3.browser;e.ie<7&&(d._coverDom="<iframe frameborder='0' style='"+a+"' src='about:blank'></iframe>");if(e.ie&&(!e.isStrict||e.ie<8)){d.size=[0,0];d.timer=setInterval(function(){d._forIE()},80)}this._innerHTML="<div class='tang-background-inner' style='width:100%;height:100%;' id='"+this.$getId("inner")+"'></div>"},{type:"magic.Background",superClass:magic.Base}).extend({render:function(a){var b=baidu3.dom(a).get(0);b!=document.body&&baidu3.dom(b).css("position")=="static"&&(b.style.position="relative");baidu3.dom(b).insertHTML("afterbegin",this.toHTMLString())},$dispose:function(){var a=this.getElement();a.parentNode.removeChild(a);clearInterval(this.timer)},toHTMLString:function(a){return["<",(a||this.tagName)," class='tang-background",(baidu3.browser.ie<7?" ie6__":""),"' id='",this.$getId(),"' style='position:absolute; top:0px; left:0px;",(this.timer?"width:10px;height:10px;":"width:100%;height:100%;"),"z-index:-9; -webkit-user-select:none; -moz-user-select:none;' ","onselectstart='return false'>",this._innerHTML,(this.coverable?this._coverDom||"":""),"</",(a||this.tagName),">"].join("")},setContent:function(a){this.getElement("inner").innerHTML=a},_forIE:function(){if(this.guid&&this.layer||((this.layer=this.getElement())&&this.layer.offsetHeight)){var j=this.layer;var c=this.container||j.parentNode;if(c&&c.style){var m=c.style,l=parseInt(m.borderTopWidth)||0,n=parseInt(m.borderRightWidth)||0,e=parseInt(m.borderBottomWidth)||0,a=parseInt(m.borderLeftWidth)||0,k=c.offsetWidth-n-a,b=c.offsetHeight-l-e;if(this.size[0]!=k||this.size[1]!=b){j.style.width=(this.size[0]=k)+"px";j.style.height=(this.size[1]=b)+"px"}if(this.styleBox&&this.table||(this.table=this.getElement("table"))){var g,f,d;g=g||parseInt(baidu3.dom(this.table.rows[0]).getCurrentStyle("height"));d=d||parseInt(baidu3.dom(this.table.rows[2]).getCurrentStyle("height"));this.table.rows[0].style.height=g+"px";this.table.rows[2].style.height=d+"px";this.table.rows[1].style.height=(this.layer.offsetHeight-g-d)+"px"}}}}});(function(){magic.Popup=function(b){var d=this;magic.control.Popup.call(d,b);d.content="";d.className="";d.styleBox=false;baidu3.object.extend(this,b||{});var c=a.produce();d.$mappingDom("",c.getElement());d.$mappingDom("content",c.getElement("content"));c.getElement().style.zIndex=baidu3.global.getZIndex("popup");d.setContent(d.content);d.className&&baidu3.dom(c.getElement()).addClass(d.className);d.on("dispose",function(){d.className&&baidu3.dom(c.getElement()).removeClass(d.className);d.setContent("");c.busy=false})};baidu3.lang.inherits(magic.Popup,magic.control.Popup,"magic.Popup");var a={list:[],produce:function(){for(var b=0,d=this.list.length;b<d;b++){if(!this.list[b].busy){this.list[b].busy=true;return this.list[b]}}var c=new magic.Base();baidu3.dom(document.body).insertHTML("afterbegin",["<div class='tang-popup' id='",c.$getId(),"' ","style='position:absolute; display:none;'>",(c.background=new magic.Background({coverable:true})).toHTMLString(),"<div class='tang-foreground' id='",c.$getId("content"),"'></div>","</div>"].join(""));c.busy=true;this.list.push(c);return c}}})();magic.control.Suggestion=baidu3.lang.createClass(function(a){var b=this;baidu3.object.extend(this,a||{});b.dataCache={};b.enableIndexs=[];b.selectedIndex=-1;b.currentQuery="";b.oldInputValue="";b.upDownArrowTimer=null;b.on("onload",function(){var f=b.getElement("input"),g=null;b.oldInputValue=b.getElement("input").value;function d(){g=setInterval(function(){var h=f.value;if(!h&&b.isShowing()){b._hide()}else{if(h!=b.oldInputValue){h&&b.fire("onneeddata",h);b.oldInputValue=h}}},100)}d();var c=(function(){return b._keydownHandler()})();var e=function(h){if(g){clearInterval(g);d()}if(b.upDownArrowTimer){clearTimeout(b.upDownArrowTimer);b.upDownArrowTimer=null}};baidu3.dom(f).on("keydown",c);baidu3.dom(f).on("keyup",e);b.on("onmousedownitem",function(){clearInterval(g);setTimeout(function(){d()},500)});b.on("ondispose",function(){baidu3.dom(f).off("keydown",c);baidu3.dom(f).off("keyup",e);clearInterval(g)})});b.on("onrender",function(){var e=b.getElement("input"),d=b.getElement("suggestion"),c=function(){b.hide()},f=function(h){var h=h||window.event,g=h.target||h.srcElement;if(!b.suggestion){return}if(g==d||baidu3.dom.contains(d,g)||g==b.getElement("input")){return}b.hide()};baidu3.dom(window).on("blur",c);baidu3.dom(document).on("click",f);b.on("ondispose",function(){baidu3.dom(window).off("blur",c);baidu3.dom(document).off("click",f)})});b.on("onneeddata",function(d,e){var c=b.dataCache;b.currentQuery=e;if(typeof c[e]=="undefined"){b.getData(e)}else{b.currentData=c[e];(b.currentData.length>0)?b.show():b.hide()}});b.on("beforeshow",function(){var e=b.currentData,d=0,c=e.length;b.enableIndexs=[];for(;d<c;d++){if(typeof e[d]["disable"]=="undefined"||e[d]["disable"]==false){b.enableIndexs.push(d)}}})},{type:"magic.control.Suggestion",superClass:magic.Base}).extend({tpl:{fix:"<div id='#{0}' class='#{1}'>#{2}</div>",body:'<table cellspacing="0" cellpadding="2" class="tang-suggestion-table"><tbody>#{0}</tbody></table>',item:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>'},render:function(){var b=this,a=new magic.Popup({autoHide:false,autoTurn:false,disposeOnHide:false});popupContainer=a.getElement();baidu3.dom(popupContainer).addClass("tang-suggestion-popup");b.$mappingDom("suggestion",popupContainer);b.suggestion=a;baidu3.dom(b.getElement("input")).attr("autocomplete","false");b.fire("onrender");return popupContainer},isShowing:function(){var b=this,a=b.getElement("suggestion");return a&&baidu3.dom(a).css("display")!="none"},show:function(){var b=this,c=b.getElement("suggestion")||b.render(),d=b.getElement("input"),a=(b.offset&&b.offset.width)||d.offsetWidth;b.fire("beforeshow");b.suggestion.setContent(b._getSuggestionString());b.suggestion.attach(d,{offsetX:(b.offset&&b.offset.offsetX)||0,offsetY:(b.offset&&b.offset.offsetY)||-1});baidu3.dom(c).css("width",parseInt(a)+"px");baidu3.dom(c).css("display","block");b.selectedIndex=-1;b.fire("onshow")},hide:function(){var d=this,a=d.getElement("suggestion");if(!a||!d.isShowing()){return}if(d.selectedIndex>=0&&d.holdHighLight){var c=d.currentData,b=d.enableIndexs[d.selectedIndex];if(c[b]&&(typeof c[b].disable=="undefined"||c[b].disable==false)){d.$pick(b)}}else{d.oldInputValue=d.getElement("input").value}d._hide()},_hide:function(){var b=this,a=b.getElement("suggestion");baidu3.dom(a).css("display","none");b.selectedIndex=-1;b.fire("onhide")},_getSuggestionString:function(){var g=this,f="",e=[],h=g.currentData,a=h.length,d=0,c;function b(j){return baidu3.string.format(g.tpl.fix,g.$getId(j),g._getClass(j),g[j+"HTML"])}g.prependHTML&&(f+=b("prepend"));for(;d<a;d++){c="baidu3Instance('"+g.guid+"')";e.push(baidu3.string.format(g.tpl.item,g.$getId("item"+d),h[d].content,c+"._mouseOver(event, "+d+")",c+"._mouseOut(event, "+d+")",c+"._mouseDown(event, "+d+")",c+"._mouseClick(event, "+d+")",(typeof h[d]["disable"]=="undefined"||h[d]["disable"]==false)?"":"tang-suggestion-disable"))}f+=baidu3.string.format(g.tpl.body,e.join(""));g.appendHTML&&(f+=b("append"));return f},getInputValue:function(){return this.getElement("input").value},getDataByIndex:function(a){return this.currentData[a]},_isEnable:function(a){var b=this;return baidu3.array(b.enableIndexs).contains(a)},_getItemDom:function(a){return baidu3.dom("#"+this.$getId("item"+a)).get(0)},_getClass:function(a){return"tang-suggestion-"+a},_focus:function(a){var b=this.enableIndexs;this.$pick(b[a]);this.$highlight(b[a])},$highlight:function(b){var d=this,a=d.enableIndexs,c=null;if(!d._isEnable(b)){return}d.selectedIndex>=0&&d.$clearHighlight();c=d._getItemDom(b);baidu3.dom(c).addClass("tang-suggestion-current");d.selectedIndex=baidu3.array(a).indexOf(b);d.fire("onhighlight",{index:b,value:d.getDataByIndex(b).value})},$clearHighlight:function(){var c=this,a=c.selectedIndex,b=null;index=0;index=c.enableIndexs[a];if(a>=0){b=c._getItemDom(index);baidu3.dom(b).removeClass(c._getClass("current"));c.selectedIndex=-1;c.fire("onclearhighlight",{index:index,value:c.getDataByIndex(index).value})}},$pick:function(a){var d=this,c=d.currentData,b=c[a];if(d.fire("onbeforepick",{index:a,value:b.value})){d.getElement("input").value=b.value;d.oldInputValue=b.value;d.fire("onpick",{index:a,value:b.value})}},$confirm:function(a){var b=this;if(!b._isEnable(a)){return}b.$pick(a);b.fire("onconfirm",{index:a,value:b.getDataByIndex(a).value});b._hide()},_wrapData:function(b){var a=this;_data=[],i=0,len=b.length;for(;i<len;i++){if(typeof b[i].value!="undefined"){_data.push(b[i])}else{_data.push({value:b[i],content:baidu3.string.encodeHTML(b[i])})}}return _data},getData:function(a){},receiveData:function(d,c){var b=this,a=b.$cacheData(d,c);b.selectedIndex=-1;if(d==b.getInputValue()){b.currentData=a;(c.length>0)?b.show():b.hide()}},$cacheData:function(d,c){var b=this,a=b._wrapData(c);b.dataCache[d]=a;return a},_mouseOver:function(c,a){var b=this;c=baidu3.event(c);c.stopPropagation();if(b._isEnable(a)){b.$highlight(a);b.selectedIndex=baidu3.array(b.enableIndexs).indexOf(a)}b.fire("onmouseoveritem",{index:a,value:b.getDataByIndex(a).value})},_mouseOut:function(c,a){var b=this;c=baidu3.event(c);c.stopPropagation();if(!b.holdHighLight){b._isEnable(a)&&b.$clearHighlight()}b.fire("onmouseoutitem",{index:a,value:b.getDataByIndex(a).value})},_mouseDown:function(c,a){var b=this;c=baidu3.event(c);c.stopPropagation();b.fire("onmousedownitem",{index:a,value:b.getDataByIndex(a).value})},_mouseClick:function(c,a){var b=this;c=baidu3.event(c);c.stopPropagation();b.fire("onmouseclick",{index:a,value:b.getDataByIndex(a).value});b.$confirm(a)},_keydownHandler:function(){var b=this;function a(f){var e=b.getInputValue(),d=b.enableIndexs,c=b.selectedIndex;if(!e){return}if((e&&!b.isShowing())){b.fire("onneeddata",e);return}if(d.length==0){return}if(b.upDownArrowTimer){return}b.upDownArrowTimer=setTimeout(function(){clearTimeout(b.upDownArrowTimer);b.upDownArrowTimer=null},200);if("up"==f){switch(c){case -1:b.$clearHighlight();c=d.length-1;b._focus(c);break;case 0:c=-1;b.$clearHighlight();b.getElement("input").value=b.currentQuery;b.oldInputValue=b.currentQuery;break;default:c--;b._focus(c);break}}else{switch(c){case -1:c=0;b._focus(c);break;case d.length-1:c=-1;b.$clearHighlight();b.getElement("input").value=b.currentQuery;b.oldInputValue=b.currentQuery;break;default:c++;b._focus(c);break}}b.selectedIndex=c}return function(d){var c="up";switch(d.keyCode){case 27:case 9:b.hide();break;case 13:d.preventDefault();d.stopPropagation();if(b.selectedIndex>=0&&b.holdHighLight){b.$confirm(b.enableIndexs[b.selectedIndex])}else{b.fire("onconfirm",{data:b.getInputValue()});if(b.isShowing()){b._hide()}}break;case 40:c="down";case 38:d.preventDefault();d.stopPropagation();a(c);break;default:break}}},$dispose:function(){var a=this;if(a.disposed){return}if(a.suggestion){a.suggestion.$dispose();a.hide()}magic.Base.prototype.$dispose.call(a)}});magic.setup.suggestion=function(c,b){var c=baidu3.dom("#"+c).get(0),a=magic.setup(c,magic.control.Suggestion,b);a.$mappingDom("input",c);a.fire("onload");return a};baidu3.lang.isElement=baidu3.isElement;baidu3.createChain("fn",function(a){return new baidu3.fn.$Fn(~"function|string".indexOf(baidu3.type(a))?a:function(){})},function(a){this.fn=a});baidu3.fn.extend({bind:function(a){var b=this.fn,c=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var e=baidu3.type(b)==="string"?a[b]:b,d=c?c.concat(Array.prototype.slice.call(arguments,0)):arguments;return e.apply(a||e,d)}}});baidu3.fn.bind=function(c,b){var a=baidu3.fn(c);return a.bind.apply(a,Array.prototype.slice.call(arguments,1))};baidu3.each=function(b,f,e){var d,g,c,a;if(typeof f=="function"&&b){if(typeof b.length=="number"){for(d=0,g=b.length;d<g;d++){c=b[d]||(b.charAt&&b.charAt(d));a=f.call(e||c,d,c,b);if(a===false||a=="break"){break}}}else{if(typeof b=="number"){for(d=0;d<b;d++){a=f.call(e||d,d,d,d);if(a===false||a=="break"){break}}}else{if(typeof b=="object"){for(d in b){if(b.hasOwnProperty(d)){a=f.call(e||b[d],d,b[d],b);if(a===false||a=="break"){break}}}}}}}return b};void function(){Array.prototype.each=function(b,a){return baidu3.each(this,b,a)};Array.prototype.forEach=function(b,a){return baidu3.forEach(this,b,a)};baidu3.array.each=baidu3.array.forEach=function(d,c,a){var b=function(e,f,g){return c.call(a||g,f,e,g)};return baidu3.isEnumerable(d)?baidu3.each(d,typeof c=="function"?b:"",a):d}}();baidu3.dom.extend({children:function(c){var b,d=[];this.each(function(a){baidu3.forEach(this.children||this.childNodes,function(e){e.nodeType==1&&d.push(e)})});return baidu3.dom(baidu3.dom.match(d,c))}});baidu3.dom.children=function(a){baidu3.check("string|HTMLElement","baidu3.dom.children");return baidu3.dom(baidu3.isString(a)?"#"+a:a).children().toArray()};baidu3.dom.extend({filter:function(a){return baidu3.dom(baidu3.dom.match(this,a))}});baidu3.dom.extend({remove:function(a,d){arguments.length>0&&baidu3.check("^string(?:,boolean)?$","baidu3.dom.remove");var e=a?this.filter(a):this;for(var b=0,c;c=e[b];b++){if(!d&&c.nodeType===1){baidu3._util_.cleanData(c.getElementsByTagName("*"));baidu3._util_.cleanData([c])}c.parentNode&&c.parentNode.removeChild(c)}return this}});void function(){function a(b){this._options=b;this._constructor()}a.prototype._constructor=function(){var c=this,b=c._options;c._element=baidu3.lang.isElement(b.content)&&b.content;c.guid=c._element.id||baidu3.lang.guid()+"-carousel-item";c._element&&!c._element.id&&(c._element.id=c.guid)};a.prototype.render=function(g,f){if(this._element){return}var e=this,c=e._options,h=baidu3.dom(g).children(),b=h[0]?h[0].tagName:"li",d="<"+b+' id="#{rsid}" class="#{class}">#{content}</'+b+">";baidu3.dom(g).insertHTML(f=="forward"?"beforeEnd":"afterBegin",baidu3.string.format(d,{rsid:e.guid,"class":"tang-carousel-item"+(c.empty?" tang-carousel-item-empty":""),content:c.empty?"&nbsp;":""}));e._element=baidu3.dom("#"+e.guid).get(0)};a.prototype.insert=function(d,c){var b=this;if(b._element){c=="forward"?d.appendChild(b._element):d.insertBefore(b._element,d.firstChild)}else{b.render(d,c)}};a.prototype.loadContent=function(){var b=this};a.prototype.getElement=function(){var b=this;return b._element||baidu3.dom("#"+this.guid).get(0)};magic.control.Carousel=baidu3.lang.createClass(function(b){var d=this,e=b.focusRange,c;d._options=baidu3.object.extend({viewSize:3,step:1,focusRange:{min:0,max:b.viewSize-1||2},orientation:"horizontal",originalIndex:0,isLoop:false},b);c=d._options;d._selectedIndex=c.originalIndex;e&&(c.focusRange={min:Math.max(0,e.min),max:Math.min(c.viewSize-1,e.max)});d._items=c.items||[];d._dataIds=[];d._datas={};d.on("onfocus",function(){d._scrolling=false});d.on("onload",function(g){var k=d._axis[d._options.orientation],f=d._selectedIndex,h=d._options,l=h.focusRange,j=baidu3.fn.bind("_onEventHandler",d);d.$mappingDom("container",baidu3(".tang-carousel-container",d.getElement())[0]).$mappingDom("element",baidu3(".tang-carousel-element",d.getElement())[0]);baidu3.dom(baidu3.dom(d.getElement("element")).children()).each(function(m,o){var n=new a({content:o});d._dataIds.push(n.guid);d._datas[n.guid]=n;baidu3.dom(o)[f==m?"addClass":"removeClass"]("tang-carousel-item-selected")});d._clear(f,l[f>(d._dataIds.length-1)/2?"max":"min"],true);d._resize();baidu3.dom(d.getElement("element")).on("click",j);baidu3.dom(d.getElement("element")).on("mouseover",j);baidu3.dom(d.getElement("element")).on("mouseout",j);d.on("ondispose",function(){baidu3.dom(d.getElement("element")).off("click",j);baidu3.dom(d.getElement("element")).off("mouseover",j);baidu3.dom(d.getElement("element")).off("mouseout",j)})})},{type:"magic.control.Carousel",superClass:magic.Base}).extend({_axis:{horizontal:{size:"width",offsetPos:"offsetLeft",offsetSize:"offsetWidth",scrollPos:"scrollLeft"},vertical:{size:"height",offsetPos:"offsetTop",offsetSize:"offsetHeight",scrollPos:"scrollTop"}},_onEventHandler:function(c){var g=this,e=g._options,d=g.getElement("element"),h=c.target;if(!baidu3.dom.contains(g.getElement("element"),h)){return}var f=baidu3.dom(h).closest(".tang-carousel-item").get(0);if(c.type==="mouseover"){var b=c.fromElement||c.relatedTarget}else{if(c.type==="mouseout"){var b=c.toElement||c.relatedTarget}}if(baidu3.dom(b).closest(f).size()>0){return}g.fire("on"+c.type.toLowerCase()+"item",{DOMEvent:c,index:baidu3.array.indexOf(g._dataIds,f.id)})},_getItemBound:function(){var e=this,c=e._options,b=c.orientation.toLowerCase()=="horizontal",d=e._axis[c.orientation],f=e._bound,g;if(!f){g=baidu3.dom(e.getElement("element")).children().get(0);if(g){f=e._bound={marginPrev:parseInt(baidu3.dom(g).css("margin"+(b?"Left":"Top")),10),marginNext:parseInt(baidu3.dom(g).css("margin"+(b?"Right":"Bottom")),10),size:g[d.offsetSize]};f.bound=f.size+(b?(f.marginPrev+f.marginNext):Math.max(f.marginPrev,f.marginNext))}}return f||{marginPrev:0,marginNext:0,size:0,bound:0}},_resize:function(){var d=this,c=d._axis[d._options.orientation],b=d.getElement("element"),e=baidu3.dom(b).children();b.style[c.size]=e.length*d._getItemBound().bound+"px"},_clear:function(h,g,f){var j=this,e=j._axis[j._options.orientation],b=j._options,k=b.viewSize,d=b.focusRange,m=j._dataIds.length,c=baidu3.makeArray(baidu3.dom(j.getElement("element")).children()),l=baidu3.array(c).indexOf(j._getItem(h).getElement());if(f){h-d.min<0&&(g=h);h+k-d.max>m&&(g=k-m+h)}baidu3.array(c).each(function(n,o){(n<l-g||n>l+k-g-1)&&baidu3.dom(o).remove()});j.getElement("container")[e.scrollPos]=0},_getItem:function(b){var c=this;return c._datas[typeof b=="string"?b:c._dataIds[b]]},_toggle:function(b){var c=this;baidu3.dom("#"+c._dataIds[c._selectedIndex]).removeClass("tang-carousel-item-selected");c._selectedIndex=b;baidu3.dom("#"+c._dataIds[b]).addClass("tang-carousel-item-selected")},_scrollTo:function(m,u){var x=this,c=x._options,v=c.focusRange,h=x._selectedIndex,g=x._axis[c.orientation],u=u||(m>h?"forward":"backward"),f=u.toLowerCase()=="forward",q=x.getElement("container"),e=x.getElement("element"),b=x._getItemBound(),y=baidu3.dom("#"+x._getItem(m).guid).get(0),t=x._dataIds.length,k=baidu3.makeArray(baidu3.dom(e).children()),w=baidu3.array.indexOf(k,x._getItem(h).getElement()),s=((f?1:-1)*(m-h)+t)%t+(f?c.viewSize-v.max-1:v.min)-(f?k.length-w-1:w),n=[],l,p,j,o,d;if(m==h||x._dataIds.length<=c.viewSize||x._scrolling){return}x._scrolling=true;if(!y||y[g.offsetPos]<v.min*b.bound||y[g.offsetPos]-b.marginPrev>v.max*b.bound){for(var r=0;r<s;r++){l=(h+(f?k.length-w-1:-w)+(f?1:-1)*(r+1)+t)%t;p=baidu3.dom("#"+x._dataIds[l]).get(0);o=p?new a({empty:true}):x._getItem(l);o.insert(e,u);o.loadContent();p&&n.push({empty:o.getElement(),item:p})}x._resize();!f&&(q[g.scrollPos]+=b.bound*s);if(x.fire("onbeforescroll",{index:m,distance:(f?1:-1)*b.bound*s,empty:n})){x._toggle(m);while(n.length>0){d=n.shift();e.replaceChild(d.item,d.empty);baidu3.dom(d.empty).remove()}x._clear(m,v[f?"max":"min"]);x._resize();x.fire("onfocus",{direction:u})}}else{x._toggle(m);x.fire("onfocus",{direction:u})}},_basicFlip:function(g){var h=this,f=h._options,j=f.focusRange,d=(g=="forward")?1:-1,b=h._selectedIndex,c=h._dataIds.length,e=f.isLoop?(b+d*f.step+c)%c:Math.min(c-1-(f.viewSize-1-j.max),Math.max(0+j.min,b+d*f.step));h._scrollTo(e,g)},focusPrev:function(){this._basicFlip("backward")},focusNext:function(){this._basicFlip("forward")},focus:function(b,c){var b=Math.min(Math.max(0,b),this._dataIds.length-1);this._scrollTo(b,c)},getCurrentIndex:function(){return this._selectedIndex},getTotalCount:function(){return this._dataIds.length},$dispose:function(){var b=this;if(b.disposed){return}magic.Base.prototype.$dispose.call(b)}})}();magic.Carousel=baidu3.lang.createClass(function(a){},{type:"magic.Carousel",superClass:magic.control.Carousel}).extend({tplItem:'<li class="#{class}">#{content}</li>',toHTMLString:function(){var c=this,a=c._options.items.length,d=[];for(var b=0;b<a;b++){d.push(baidu3.string.format(c.tplItem,{"class":"tang-carousel-item",content:c._items[b].content}))}return baidu3.string.format('<div class="#{containerClass}"><ul class="#{elementClass}">#{content}</ul></div>',{containerClass:"tang-carousel-container",elementClass:"tang-carousel-element",content:d.join("")})},render:function(c){var b=this,a;if(b.getElement()){return}b.$mappingDom("",baidu3.dom("#"+c).get(0)||document.body);a=b.getElement();baidu3.dom(a).addClass("tang-ui tang-carousel").insertHTML("beforeEnd",b.toHTMLString());b.fire("ondomready");b.fire("onload")},$dispose:function(){var b=this,a;if(b.disposed){return}baidu3.dom(b.getElement()).removeClass("tang-ui tang-carousel");a=b.getElement("container");magic.Base.prototype.$dispose.call(b);baidu3.dom(a).remove();a=null}});magic.setup.carousel=function(c,b){var a=magic.setup(baidu3.dom("#"+c).get(0),magic.control.Carousel,b);a.fire("onload");return a};baidu3.lang.register=function(b,d,a){var c=b["\x06r"]||(b["\x06r"]=[]);c[c.length]=d;for(var e in a){b.prototype[e]=a[e]}};baidu3.lang.register(magic.control.Carousel,function(c){var e=this,b,d;e._options.button=baidu3.object.extend({enable:true},e._options.button);if(!e._options.button.enable){return}b=baidu3.fn.bind("_onButtonClick",e,"backward");d=baidu3.fn.bind("_onButtonClick",e,"forward");function a(){var g=e.getElement("prev"),f=e.getElement("next");baidu3.dom(g)[e.isFirst()?"addClass":"removeClass"]("tang-carousel-btn-prev-disabled");baidu3.dom(f)[e.isLast()?"addClass":"removeClass"]("tang-carousel-btn-next-disabled");baidu3.dom(g)[!e.isFirst()?"addClass":"removeClass"]("tang-carousel-btn-prev");baidu3.dom(f)[!e.isLast()?"addClass":"removeClass"]("tang-carousel-btn-next")}e.on("onload",function(f){e.$mappingDom("prev",baidu3(".tang-carousel-btn-prev",e.getElement())[0]).$mappingDom("next",baidu3(".tang-carousel-btn-next",e.getElement())[0]);baidu3.dom(e.getElement("prev")).on("click",b);baidu3.dom(e.getElement("next")).on("click",d);a()});e.on("onfocus",function(){a()});e.on("ondispose",function(){baidu3.dom(e.getElement("prev")).off("click",b);baidu3.dom(e.getElement("next")).off("click",d)})},{_onButtonClick:function(c,a){var b=this;if(c=="forward"?b.isLast():b.isFirst()){return}b._basicFlip(c)},_isLimit:function(d){var c=this,b=c._options,f=b.focusRange,a=c._selectedIndex,e=(d=="forward")?a>=c.getTotalCount()-1-(b.viewSize-1-f.max):a<=f.min;return b.isLoop?false:e},isFirst:function(){return this._isLimit("backward")},isLast:function(){return this._isLimit("forward")}});baidu3.lang.register(magic.Carousel,function(a){var b=this,c='<a href="#" class="tang-carousel-btn #{class}" onclick="return false;">#{content}</a>';b._options.button=baidu3.object.extend({buttonLabel:{prev:"",next:""}},b._options.button);if(!b._options.button.enable){return}b.on("ondomready",function(e){var d=b.getElement();baidu3.dom(d).insertHTML("afterBegin",baidu3.string.format(c,{"class":"tang-carousel-btn-prev",content:b._options.button.buttonLabel.prev}));baidu3.dom(d).insertHTML("beforeEnd",baidu3.string.format(c,{"class":"tang-carousel-btn-next",content:b._options.button.buttonLabel.next}));b.on("ondispose",function(){baidu3.array.each(["prev","next"],function(f){baidu3.dom(b.getElement(f)).remove()})})})});baidu3.lang.register(magic.control.Carousel,function(b){var c=this,a;c._options.autoScroll=baidu3.object.extend({enable:true,interval:1000,direction:"forward"},c._options.autoScroll);a=c._options.autoScroll;if(!a.enable){return}a._autoScrolling=true;a.direction=a.direction.toLowerCase();c.on("onload",function(d){var e=baidu3.fn.bind("_onMouseEventHandler",c);baidu3.dom(c.getElement("element")).on("mouseenter",e);baidu3.dom(c.getElement("element")).on("mouseleave",e);c.on("ondispose",function(){baidu3.dom(c.getElement("element")).off("mouseenter",e);baidu3.dom(c.getElement("element")).off("mouseleave",e)});c.start()});c.on("onfocus",function(d){if(!a._autoScrolling){return}d.target.start()});c.on("ondispose",function(d){d.target.stop()})},{_onMouseEventHandler:function(a){var c=this,d={mouseover:"mouseenter",mouseout:"mouseleave"},b=a.type;c.fire("on"+(d[b]||b),{DOMEvent:a})},start:function(){var b=this,a=b._options.autoScroll;a._autoScrolling=true;clearTimeout(a._autoScrollTimeout);a._autoScrollTimeout=setTimeout(function(){b._basicFlip(a.direction)},a.interval)},stop:function(){var b=this,a=b._options.autoScroll;clearTimeout(a._autoScrollTimeout);a._autoScrolling=false}});baidu3.fx=baidu3.fx||{};baidu3.fx.Timeline=function(a){baidu3.lang.Class.call(this);this.interval=16;this.duration=500;this.dynamic=true;baidu3.object.extend(this,a)};baidu3.lang.inherits(baidu3.fx.Timeline,baidu3.lang.Class,"baidu3.fx.Timeline").extend({launch:function(){var a=this;a.dispatchEvent("onbeforestart");typeof a.initialize=="function"&&a.initialize();a["\x06btime"]=new Date().getTime();a["\x06etime"]=a["\x06btime"]+(a.dynamic?a.duration:0);a["\x06pulsed"]();return a},"\x06pulsed":function(){var b=this;var a=new Date().getTime();b.percent=(a-b["\x06btime"])/b.duration;b.dispatchEvent("onbeforeupdate");if(a>=b["\x06etime"]){typeof b.render=="function"&&b.render(b.transition(b.percent=1));typeof b.finish=="function"&&b.finish();b.dispatchEvent("onafterfinish");b.dispose();return}typeof b.render=="function"&&b.render(b.transition(b.percent));b.dispatchEvent("onafterupdate");b["\x06timer"]=setTimeout(function(){b["\x06pulsed"]()},b.interval)},transition:function(a){return a},cancel:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];typeof this.restore=="function"&&this.restore();this.dispatchEvent("oncancel");this.dispose()},end:function(){this["\x06timer"]&&clearTimeout(this["\x06timer"]);this["\x06etime"]=this["\x06btime"];this["\x06pulsed"]()}});baidu3.fx.create=function(d,b,c){var e=new baidu3.fx.Timeline(b);e.element=d;e.__type=c||e.__type;e["\x06original"]={};var a="baidu3_current_effect";e.addEventListener("onbeforestart",function(){var g=this,f;g.attribName="att_"+g.__type.replace(/\W/g,"_");f=g.element.getAttribute(a);g.element.setAttribute(a,(f||"")+"|"+g.guid+"|",0);if(!g.overlapping){(f=g.element.getAttribute(g.attribName))&&window[baidu3.guid]._instances[f].cancel();g.element.setAttribute(g.attribName,g.guid,0)}});e["\x06clean"]=function(h){var g=this,f;if(h=g.element){h.removeAttribute(g.attribName);f=h.getAttribute(a);f=f.replace("|"+g.guid+"|","");if(!f){h.removeAttribute(a)}else{h.setAttribute(a,f,0)}}};e.addEventListener("oncancel",function(){this["\x06clean"]();this["\x06restore"]()});e.addEventListener("onafterfinish",function(){this["\x06clean"]();this.restoreAfterFinish&&this["\x06restore"]()});e.protect=function(f){this["\x06original"][f]=this.element.style[f]};e["\x06restore"]=function(){var j=this["\x06original"],h=this.element.style,f;for(var g in j){f=j[g];if(typeof f=="undefined"){continue}h[g]=f;if(!f&&h.removeAttribute){h.removeAttribute(g)}else{if(!f&&h.removeProperty){h.removeProperty(g)}}}};return e};baidu3.fx.scrollBy=function(b,g,a){if(!(b=baidu3.dom.g(b))||typeof g!="object"){return null}var f={},e={};f.x=g[0]||g.x||0;f.y=g[1]||g.y||0;var c=baidu3.fx.create(b,baidu3.object.extend({initialize:function(){var h=e.sTop=b.scrollTop;var d=e.sLeft=b.scrollLeft;e.sx=Math.min(b.scrollWidth-b.clientWidth-d,f.x);e.sy=Math.min(b.scrollHeight-b.clientHeight-h,f.y)},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.scrollTop=(e.sy*d+e.sTop);b.scrollLeft=(e.sx*d+e.sLeft)},restore:function(){b.scrollTop=e.sTop;b.scrollLeft=e.sLeft}},a),"baidu3.fx.scroll");return c.launch()};baidu3.fx.scrollTo=function(c,a,b){if(!(c=baidu3.dom.g(c))||typeof a!="object"){return null}var e={};e.x=(a[0]||a.x||0)-c.scrollLeft;e.y=(a[1]||a.y||0)-c.scrollTop;return baidu3.fx.scrollBy(c,e,b)};baidu3.lang.instance=function(){var a=baidu3.global("_maps_id");return function(b){return a[b]||null}}();baidu3.fx.current=function(d){if(!(d=baidu3.dom.g(d))){return null}var b,f,e=/\|([^\|]+)\|/g;do{if(f=d.getAttribute("baidu3_current_effect")){break}}while((d=d.parentNode)&&d.nodeType==1);if(!f){return null}if((b=f.match(e))){e=/\|([^\|]+)\|/;for(var c=0;c<b.length;c++){e.test(b[c]);b[c]=baidu3.lang.instance(RegExp["\x241"])}}return b};baidu3.lang.register(magic.control.Carousel,function(a){var b=this;b._options.fx=baidu3.object.extend({enable:true},b._options.fx);if(!b._options.fx.enable){return}b.on("onbeforescroll",function(e){e.returnValue=false;if(baidu3.fx.current(b.getElement("container"))){return}var f=b._options,g=b._axis[f.orientation],d=f.orientation=="horizontal",c=b.getElement("container"),j=c[g.scrollPos]+e.distance,h=baidu3.object.extend({onbeforeupdate:function(){if(e.empty.length<=0){return}var m=e.empty[0],k,l;if(e.distance<0?m.empty[g.offsetPos]+m.empty[g.offsetSize]-c[g.scrollPos]>=0:m.empty[g.offsetPos]-c[g.scrollPos]<=c[g.offsetSize]){k=m.empty.parentNode;l=m.empty.cloneNode(true);k.replaceChild(l,m.empty);k.replaceChild(m.empty,m.item);k.replaceChild(m.item,l);e.empty.shift()}},onafterfinish:function(){if(b.disposed){return}b._toggle(e.index);b._clear(e.index,f.focusRange[e.distance<0?"min":"max"]);b._resize();b.fire("onfocus",{direction:e.distance>0?"forward":"backward"})}},f.fx);baidu3.fx.scrollTo(c,{x:d?j:0,y:d?0:j},h)})});baidu3.event.preventDefault=function(a){a.originalEvent&&(a=a.originalEvent);if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};magic.Pager=baidu3.lang.createClass(function(a){var b=this;this.currentPage=1;this.totalPage=1;this.viewSize=10;this.currentPagePos=4;this.labelFirst="";this.labelPrev="";this.labelNext="";this.labelLast="";this.tplURL="##{pageNum}";this.tplLabelNormal="#{pageNum}";this.tplLabelCurrent="#{pageNum}";baidu3.object.extend(this,a);this.currentPage=Math.max(this.currentPage,1)},{type:"magic.Pager",superClass:magic.Base}).extend({_buildLink:function(b,a,c){return"<a onclick=\"return baidu3Instance('"+this.guid+"').$update("+b+')" href="'+baidu3.string.format(this.tplURL,{pageNum:b})+'" class="tang-pager-'+a+'">'+c+"</a>"},"$update":function(b){this.currentPage=b;var a=this.getElement();a.innerHTML="";this.render(this.$getId());return this.fire("pagechange",{pageNum:b})},"$toHTMLString":function(){var d,b=[],c=this.totalPage<this.viewSize||this.currentPage<=this.currentPagePos?1:Math.min(this.currentPage-this.currentPagePos,this.totalPage-this.viewSize+1),a=Math.min(this.totalPage,c+this.viewSize-1);b.push('<div id="'+this.$getId("main")+'" class="tang-pager-main">');if(1<this.currentPage){b.push(this._buildLink(1,"first",this.labelFirst));b.push(this._buildLink(this.currentPage-1,"previous",this.labelPrev))}for(d=c;d<this.currentPage;d++){b.push(this._buildLink(d,"normal",baidu3.string.format(this.tplLabelNormal,{pageNum:d})))}b.push('<span class="tang-pager-current">'+baidu3.string.format(this.tplLabelCurrent,{pageNum:this.currentPage})+"</span>");for(d=this.currentPage+1;d<=a;d++){b.push(this._buildLink(d,"normal",baidu3.string.format(this.tplLabelNormal,{pageNum:d})))}if(this.totalPage>this.currentPage){b.push(this._buildLink(this.currentPage+1,"next",this.labelNext));b.push(this._buildLink(this.totalPage,"last",this.labelLast))}b.push("</div>");return b.join("")},render:function(a){if(!this.getElement()){this.$mappingDom("",a||document.body)}a=baidu3.dom("#"+a);baidu3.dom(a).addClass("tang-pager").insertHTML("beforeEnd",this.$toHTMLString());this.fire("load")},"$dispose":function(){if(this.disposed){return}var b=this.getElement(),a=this.getElement("main");baidu3.dom(b).removeClass("tang-pager");magic.Base.prototype.$dispose.call(this);baidu3.dom(a).remove();b=a=null}});baidu3.date=baidu3.date||{};baidu3.createChain("number",function(b){var a=parseFloat(b),c=isNaN(a)?a:b;clazz=typeof c==="number"?Number:String,pro=clazz.prototype;c=new clazz(c);baidu3.forEach(baidu3.number.$Number.prototype,function(e,d){pro[d]||(c[d]=e)});return c});baidu3.number.extend({pad:function(c){var d=this;var e="",b=(d<0),a=String(Math.abs(d));if(a.length<c){e=(new Array(c-a.length+1)).join("0")}return(b?"-":"")+e+a}});baidu3.date.format=function(a,f){if("string"!=typeof f){return a.toString()}function d(m,l){f=f.replace(m,l)}var b=baidu3.number.pad,g=a.getFullYear(),e=a.getMonth()+1,k=a.getDate(),h=a.getHours(),c=a.getMinutes(),j=a.getSeconds();d(/yyyy/g,b(g,4));d(/yy/g,b(parseInt(g.toString().slice(2),10),2));d(/MM/g,b(e,2));d(/M/g,e);d(/dd/g,b(k,2));d(/d/g,k);d(/HH/g,b(h,2));d(/H/g,h);d(/hh/g,b(h%12,2));d(/h/g,h%12);d(/mm/g,b(c,2));d(/m/g,c);d(/ss/g,b(j,2));d(/s/g,j);return f};baidu3.lang.isObject=baidu3.isObject;baidu3.lang.isFunction=baidu3.isFunction;(function(){var b=function(c){return baidu3.lang.isObject(c)&&!baidu3.lang.isFunction(c)};function a(g,f,e,d,c){if(f.hasOwnProperty(e)){if(c&&b(g[e])){baidu3.object.merge(g[e],f[e],{overwrite:d,recursive:c})}else{if(d||!(e in g)){g[e]=f[e]}}}}baidu3.object.merge=function(h,c,k){var e=0,l=k||{},g=l.overwrite,j=l.whiteList,d=l.recursive,f;if(j&&j.length){f=j.length;for(;e<f;++e){a(h,c,j[e],g,d)}}else{for(e in c){a(h,c,e,g,d)}}return h}})();baidu3.i18n=baidu3.i18n||{};baidu3.i18n.date=baidu3.i18n.date||{getDaysInMonth:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31];if(b==1&&baidu3.i18n.date.isLeapYear(a)){return 29}return c[b]},isLeapYear:function(a){return !(a%400)||(!(a%4)&&!!(a%100))},toLocaleDate:function(b,a,c){return this._basicDate(b,a,c||baidu3.i18n.currentLocale)},_basicDate:function(f,c,h){var a=baidu3.i18n.cultures[h||baidu3.i18n.currentLocale].timeZone,g=a*60,b,d,e=f.getTime();if(c){b=baidu3.i18n.cultures[c].timeZone;d=b*60}else{d=-1*f.getTimezoneOffset();b=d/60}return new Date(b!=a?(e+(g-d)*60000):e)},format:function(a,b){var d=baidu3.i18n.cultrues[b||baidu3.i18n.currentLocale];return baidu3.date.format(baidu3.i18n.date.toLocaleDate(a,"",b),d.calendar.dateFormat)}};baidu3.i18n.cultures=baidu3.i18n.cultures||{};baidu3.i18n.cultures["zh-CN"]=baidu3.object.extend(baidu3.i18n.cultures["zh-CN"]||{},{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}&nbsp;#{MM}",monthNames:["","","","","","","","","","","",""],monthNamesShort:[1,2,3,4,5,6,7,8,9,10,11,12],dayNames:{mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",sun:""}},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(b,a){return baidu3.i18n.number._format(b,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:a?this.negative:this.positive})}},currency:{symbol:""},language:{ok:"",cancel:"",signin:"",signup:""}});baidu3.i18n.currentLocale="zh-CN";baidu3.lang.isDate=baidu3.isDate;magic.Calendar=baidu3.lang.createClass(function(a){var b=this;b._options=baidu3.object.extend({weekStart:"sun",initDate:baidu3.i18n.date.toLocaleDate(new Date()),highlightDates:[],disabledDates:[],language:"zh-CN"},a||{});b.currentDate=new Date(b._options.initDate);b.selectedDate=new Date(b._options.initDate);b.dayNames=[]},{type:"magic.Calendar",superClass:magic.Base});magic.Calendar.extend({tplSkeleton:'<div id="#{calendarId}" class="#{calendarClass}"><div id="#{titleId}" class="#{titleClass}"></div><div id="#{tableId}" class="#{tableClass}"></div></div>',tplDate:'<td id="#{id}" class="#{class}" onmouseover="#{mouseover}" onmouseout="#{mouseout}" onclick="#{click}">#{date}</td>',render:function(a){var b=this;if(baidu3.type(a)==="string"){a="#"+a}b.container=baidu3(a)[0];b._renderSkeleton();b._renderTitle();b._renderDateTable();b._renderNavBtn();b._bindTable();b._bindNavBtn();b._addkeystrokesListener();b.fire("render")},_rerender:function(){var a=this;a._renderTitle();a._renderDateTable();a._bindTable()},_getId:function(a){return this.$getId()+(a===undefined?"tang_calendar":"tang_calendar_"+a)},_getClass:function(a){return a===undefined?"tang-calendar":"tang-calendar-"+a},_renderSkeleton:function(){var b=this,a=b.container;baidu3(a).insertHTML("beforeEnd",baidu3.string.format(b.tplSkeleton,{calendarId:b._getId(),calendarClass:b._getClass(),titleId:b._getId("title"),titleClass:b._getClass("title"),tableId:b._getId("table"),tableClass:b._getClass("table")}));b.titleEl=baidu3("#"+b._getId("title"))[0];b.tableEl=baidu3("#"+b._getId("table"))[0];b.$mappingDom("calendar",baidu3("#"+b._getId())[0]);b.$mappingDom("title",b.titleEl);b.$mappingDom("table",b.tableEl)},_renderTitle:function(){var c=this,a=c.currentDate,b=a.getFullYear(),d=a.getMonth()+1;c.titleEl.innerHTML=baidu3.string.format(baidu3.i18n.cultures[c._options.language].calendar.titleNames,{yyyy:b,MM:baidu3.i18n.cultures[c._options.language].calendar.monthNamesShort[d-1]})},_renderDateTable:function(){var b=this._getTheadString(),a=this._getTbodyString();this.tableEl.innerHTML='<table border="0" cellpadding="0" cellspacing="0">'+b+a+"</table>"},_renderNavBtn:function(){var c=this,b=baidu3("#"+c._getId())[0],d=document.createElement("div"),a=document.createElement("div");d.className=c._getClass("prebtn");a.className=c._getClass("nextbtn");b.appendChild(d);b.appendChild(a);c.preBtn=d;c.nextBtn=a;c.$mappingDom("premonthbtn",c.preBtn);c.$mappingDom("nextmonthbtn",c.nextBtn)},_bindNavBtn:function(){var h=this,d=h.preBtn,b=h.nextBtn,a=false,k,f,l,g,e;baidu3(d).on("click",k=function(){!a&&h.preMonth();a=false;h.fire("premonth")});baidu3(b).on("click",f=function(){!a&&h.nextMonth();a=false;h.fire("nextmonth")});var c=null;var j=function(o){if(c){return}function n(){c=setTimeout(function(){o=="pre"?h.preMonth():h.nextMonth();a=true;n()},500)}n()};var m=function(){clearTimeout(c);c=null};baidu3(d).on("mousedown",l=function(){j("pre")});baidu3(b).on("mousedown",g=function(){j("next")});baidu3(document).on("mouseup",e=function(){if(h.disposed){return}c&&m()});h.on("dispose",function(){baidu3(d).off("click",k);baidu3(b).off("click",f);baidu3(d).off("mousedown",l);baidu3(b).off("mousedown",g);baidu3(document).off("mouseup",e)})},_getTheadString:function(){var g=this,h=["mon","tue","wed","thu","fri","sat","sun"],b,a=[],c=g._options.weekStart.toLowerCase(),d=baidu3.array.indexOf(h,c),f=baidu3.i18n.cultures[g._options.language].calendar.dayNames,e=0;a.push('<thead class="'+g._getClass("weekdays")+'"><tr>');for(;e<7;e++){d>6&&(d=0);g.dayNames.push(h[d]);b=f[h[d]];a.push("<th>"+b+"</th>");d++}a.push("</tr></thead>");return a.join("")},_getTbodyString:function(){var n=this,d=n.dayNames,m=["sun","mon","tue","wed","thu","fri","sat"],f=new Date(n.currentDate),o,p=0,c=[],q=0,b=baidu3.i18n.date.getDaysInMonth(f.getFullYear(),f.getMonth()),a=5,h="",e="";f.setDate(1);o=f.getDay();p=baidu3.array.indexOf(d,m[o]);if(p+b>35){a=6}f.setDate(f.getDate()-p);var l=0,k=0,g="";for(;l<a;l++){c.push("<tr>");for(;k<7;k++){g=n._getClass("date");h="";if(f.getDay()==0||f.getDay()==6){g+=" "+n._getClass("weekend")}if(n._datesEqual(baidu3.i18n.date.toLocaleDate(new Date()),f)){g+=" "+n._getClass("today")}if(n._datesContains(n._options.highlightDates,f)){g+=" "+n._getClass("highlight")}if(n._datesContains(n._options.disabledDates,f)){g+=" "+n._getClass("disable")}if(n._datesEqual(n.selectedDate,f)){g+=" "+n._getClass("selected");h='id="'+n._getId("selected")+'"'}if(f.getMonth()<n.currentDate.getMonth()||f.getFullYear()<n.currentDate.getFullYear()){g+=" "+n._getClass("premonth")}else{if(f.getMonth()>n.currentDate.getMonth()||f.getFullYear()>n.currentDate.getFullYear()){g+=" "+n._getClass("nextmonth")}}e=n._formatDate(new Date(f.getFullYear()+"/"+(f.getMonth()+1)+"/"+f.getDate()));c.push("<td "+h+' class="'+g+'" date="'+e+'" onmouseover=baidu3Instance("'+n.guid+'")._mouseoverHandler(event) onmouseout=baidu3Instance("'+n.guid+'")._mouseoutHandler(event)>'+f.getDate()+"</td>");f.setDate(f.getDate()+1)}c.push("</tr>");k=0}return"<tbody>"+c.join("")+"</tbody>"},_formatDate:function(e){var b=e.getFullYear(),c=e.getMonth()+1,a=e.getDate();c=c>=10?c:("0"+c);a=a>=10?a:("0"+a);return b+"/"+c+"/"+a},_mouseoverHandler:function(c){var a=this,b;b=baidu3.event(c).target;baidu3(b).addClass(a._getClass("hover"));a.fire("mouseover",{target:b})},_mouseoutHandler:function(c){var a=this,b;b=baidu3.event(c).target;baidu3(b).removeClass(a._getClass("hover"));a.fire("mouseout",{target:b})},_bindTable:function(){var d=this,a=baidu3("#"+d._getId("table"))[0].getElementsByTagName("tbody")[0],e,b,c,f;baidu3(a).on("click",f=function(g){e=g.target;if(e.tagName.toUpperCase()!="TD"){return}b=e.getAttribute("date");if(d._datesContains(d._options.disabledDates,new Date(b))){return}c=baidu3("#"+d._getId("selected"))[0];if(c){c.id="";baidu3(c).removeClass(d._getClass("selected"))}e.id=d._getId("selected");baidu3(e).addClass(d._getClass("selected"));d.selectedDate=new Date(b);d.fire("selectdate",{date:new Date(b)})});d.on("dispose",function(){baidu3(a).off("click",f)})},_addkeystrokesListener:function(){var d=this,c=false,a=baidu3("#"+d._getId())[0],e;function b(f){f=f||window.event;f.preventDefault();switch(f.keyCode){case 33:d.preMonth();break;case 34:d.nextMonth();break;case 37:d._preDay();break;case 38:d._preDay();break;case 39:d._nextDay();break;case 40:d._nextDay();break;default:break}}baidu3(document).on("click",e=function(g){if(d.disposed){return}var f=g.target;if(!(baidu3.dom.contains(a,f)||f==a)){baidu3(document).off("keydown",b);c=false}else{if(c){return}baidu3(document).on("keydown",b);c=true}});d.on("dispose",function(){baidu3(document).off("click",e)})},_datesEqual:function(f,d){if(baidu3.type(f)!="date"||baidu3.type(d)!="date"){return}var c=f.getFullYear(),a=f.getMonth(),g=f.getDate(),b=d.getFullYear(),h=d.getMonth(),e=d.getDate();return(c==b)&&(a==h)&&(g==e)},_datesContains:function(g,f){var e=this,c=0,a=g.length,d,b=true;if(baidu3.type(f)!="date"){return}for(;c<a;c++){d=g[c];if(baidu3.lang.isDate(d)){if(e._datesEqual(d,f)){return true}}else{if(d.end){d.end=new Date(baidu3.date.format(d.end,"yyyy/MM/dd")+" 23:59:59")}if((!d.start||f.getTime()>=d.start.getTime())&&(!d.end||f.getTime()<=d.end.getTime())){return true}}}return false},go:function(a,c){var b=this;b.currentDate.setFullYear(a);b.currentDate.setDate(1);c=c===undefined?b.currentDate.getMonth():c-1;b.currentDate.setMonth(c);b._rerender()},getDate:function(){return new Date(this.selectedDate)},setDate:function(b){var c=this,a=new Date(b);if(baidu3.type(b)!="date"){return false}if(c._datesContains(c._options.disabledDates,a)){return}c.currentDate=new Date(b);c.selectedDate=new Date(b);c._rerender();return true},preMonth:function(){var d=this,a=d.currentDate,c=a.getMonth()+1,b=a.getFullYear();d.go(b,c-1)},nextMonth:function(){var d=this,a=d.currentDate,c=a.getMonth()+1,b=a.getFullYear();d.go(b,c+1)},_preDay:function(){var b=this,a=new Date(b.selectedDate);a.setDate(a.getDate()-1);b.setDate(a);b.fire("selectdate",{date:a})},_nextDay:function(){var b=this,a=new Date(b.selectedDate);a.setDate(a.getDate()+1);b.setDate(a);b.fire("selectdate",{date:a})},$dispose:function(){var a=this;if(a.disposed){return}a.container.removeChild(baidu3("#"+a._getId())[0]);magic.Base.prototype.$dispose.call(a)}});magic.control.DatePicker=baidu3.lang.createClass(function(a){var b=this;b.language=a.language||"zh-CN";b.format=a.format||baidu3.i18n.cultures[b.language].calendar.dateFormat||"yyyy-MM-dd";b.popupOption=baidu3.object.merge({autoHide:false,autoTurn:false,disposeOnHide:false},a.popupOptions);b.calendarOption=baidu3.object.merge({},a.calendarOptions);b.calendarOption.language=b.language;b.showing=false},{type:"magic.control.DatePicker",superClass:magic.Base}).extend({init:function(){var d=this,a=d.popup=new magic.Popup(d.popupOption),e=d.calendar=new magic.Calendar(d.calendarOption),c=d.input=d.getElement("input");e.render(a.getElement("content"));d.calendar.on("selectdate",function(g){c.value=baidu3.date.format(g.date,d.format);d.hide();d.fire("selectdate",{date:new Date(g.date)})});function b(){d.show()}function f(h){var g=baidu3.event(h).target;if(g!=c&&!baidu3(e.getElement("calendar")).contains(g)){d.hide()}}baidu3(c).on("click focus",b);if(!("oninput" in document.body)){c.onpropertychange=function(){if(d.disposed){return}if(event.propertyName=="value"){this.oninput&&this.oninput(event)}}}c.oninput=function(){if(d.disposed){return}if(d._getInputDate()&&d.calendar.setDate(d._getInputDate())){d.fire("selectdate",{date:new Date(d._getInputDate())})}};baidu3(document).on("click",f);d.on("dispose",function(){baidu3(c).off("click",b);baidu3(c).off("focus",b);baidu3(document).off("click",f)});d.$mappingDom("calendar",e.getElement("calendar"))},show:function(){var b=this,a=new Date();if(b.showing){return}b.showing=true;b.calendar.setDate(b._getInputDate()||b.calendarOption.initDate||baidu3.i18n.date.toLocaleDate(new Date()));b.popup.attach(b.input,{offsetY:b.popupOption.offsetY||-1,offsetX:b.popupOption.offsetX||0});b.fire("show")},hide:function(){var a=this;if(!a.showing){return}a.showing=false;a.popup.hide();a.fire("hide")},_getInputDate:function(){var g=this,a=g.input.value,j=[/yyyy|yy/,/M{1,2}/,/d{1,2}/],f=j.length,b=[],h,e,c;if(!a){return}for(var d=0;d<f;d++){if(h=j[d].exec(g.format)){e=h.index;b[d]=a.substring(e,e+h[0].length)}}c=new Date(b[0],b[1]-1,b[2]);if(baidu3.lang.isDate(c)){return c}else{return}},$dispose:function(){var a=this;if(a.disposed){return}a.calendar.$dispose();a.popup.$dispose();magic.Base.prototype.$dispose.call(a)}});magic.setup.datePicker=function(b,a){if(baidu3.type(b)==="string"){b="#"+b}var b=baidu3(b)[0];instance=magic.setup(b,magic.control.DatePicker,a);instance.$mappingDom("input",b);instance.init();return instance};baidu3.array.extend({remove:function(a){var b=this.length;while(b--){if(this[b]===a){this.splice(b,1)}}return this}});magic.control.ComboBox=baidu3.lang.createClass(function(a){var b=this;b._options=baidu3.object.extend({items:[],originIndex:-1,readonly:false,viewSize:5,disabled:false,width:"100%"},a);b.selectValue="";b.highlightIndex=-1;b.menu=new magic.Popup();b.isFocus=false;b.disabled=this._options.disabled;b.tempValue="";b.menufocusing=false;if(!magic.control.ComboBox.instanceArray){magic.control.ComboBox.instanceArray=[]}magic.control.ComboBox.instanceArray.push(b.guid);b.on("load",function(){b.setWidth(b._options.width);b.menu._host=b.getElement("container");b.menu.offsetY=-1;b.menu.setContent(b._menuContainerToHTMLString());this._renderMenu();b.menu.on("show",function(){b.fire("show")});b.menu.on("beforeshow",function(c){c.returnValue=b.fire("beforeshow")});b.menu.on("beforehide",function(c){c.returnValue=b.fire("beforehide")});b.menu.on("hide",function(){b.fire("hide")});baidu3(b.getElement("input-container")).keydown(function(){!b.disabled&&(magic.control.ComboBox.globalActive=b.guid)});baidu3(b.getElement("input-container")).click(function(){!b.disabled&&(magic.control.ComboBox.globalActive=b.guid)});if(!b._options.readonly){baidu3(b.getElement("arrow")).click(function(){this.focus();!b.disabled&&b.menu.show()});baidu3(b.getElement("input")).keydown(function(c){b._keydownHandler(c)})}else{baidu3(b.getElement("input-container")).click(function(){b.getElement("arrow").focus();(!b.disabled)&&b.menu.show()})}baidu3(b.getElement("arrow")).keydown(function(c){c.preventDefault();b._keydownHandler(c)});if(b.disabled){baidu3(b.getElement("container")).addClass("magic-combobox-disable");b.getElement("input").disabled=true}b._initInput();baidu3(this.getElement("menu")).click(function(d){magic.control.ComboBox.globalActive=b.guid;var c=d.target;if(c==this){return}while(c.tagName!="LI"){c=c.parentNode}b.$confirm(c);b.fire("clickitem",{result:b._getResult(c)})});baidu3(this.getElement("menu")).mouseover(function(d){b.$clearHighlight();var c=d.target;if(c==this){return}while(c.tagName!="LI"){c=c.parentNode}b.$highlight(c)})});b.on("show",function(){b._setViewSize()});b.on("hide",function(){b.menufocusing=false});b.on("focus",function(){b.isFocus=true});b.on("blur",function(){b.isFocus=false});b.on("highlight",function(c){b.highlightIndex=c.index});b.on("beforeshow",function(c){if(b._options.items.length==0){c.returnValue=false}})},{type:"magic.control.ComboBox",superClass:magic.Base}).extend({_initInput:function(){var a=this._options.originIndex;if(this._options.readonly&&a==-1){a=0}if(a!=-1){this.$setByIndex(a)}else{this.selectValue=this.getElement("input").value=""}},_setViewSize:function(){baidu3(this.getElement("menu")).css("height","");var a=baidu3(".magic-combobox-menu-item",this.getElement("menu"))[0].offsetHeight*this._options.viewSize,b=this.getElement("menu").offsetHeight,c=b>a?a:b;baidu3(this.getElement("menu")).css("height",c)},_renderMenu:function(c){var b=this;c=c||this._options.items;var a=this.$menuContentToHTMLString(c);this.getElement("menu").innerHTML=a},_keydownHandler:function(d){var b=38,g=40,a=13,f=baidu3(".magic-combobox-menu-item",this.getElement("menu")),c=f.length;if(d.keyCode==a){this.menu.visible&&this.$confirm(f[this.highlightIndex])}else{if(d.keyCode==g||d.keyCode==b){if(!this.menu.visible){this.menu.show()}if(!this.menufocusing){this.menufocusing=true;this.tempValue=this.getElement("input").value}}}if(d.keyCode==g){this.$clearHighlight();if(++this.highlightIndex==c){this.highlightIndex=-1;this.getElement("input").value=this.tempValue;this.fire("pickOrigin",{content:this.tempValue})}else{this.$menufocus(f[this.highlightIndex])}}else{if(d.keyCode==b){d.preventDefault();this.$clearHighlight();if(this.highlightIndex==-1){this.highlightIndex=c}if(--this.highlightIndex==-1){this.getElement("input").value=this.tempValue;this.fire("pickOrigin",{content:this.tempValue})}else{this.$menufocus(f[this.highlightIndex])}}}},_getResult:function(a){return{value:baidu3(a).attr("data-value"),index:baidu3(a).attr("data-index"),content:baidu3(a).text()}},_getValue:function(c){var a=this._options.items,b=a.length;while(b--){if(a[b].content==c){return a[b].value+""}}return null},"$pick":function(b){var a=this._getResult(b);if(this.fire("beforepick")){this.getElement("input").value=a.content;this.fire("pick",{result:a})}return a},"$menufocus":function(b){this.$highlight(b);var a=this.$pick(b);this.fire("menufocus",{result:a});return a},"$confirm":function(b){var a=b?this.$pick(b):{result:this.tempValue};this.menu.hide();this.fire("confirm",{result:a});if(this.selectValue!=a.value){this.fire("change",{from:"confirm",result:a})}this.selectValue=a.value;return a},"$highlight":function(a){baidu3(a).addClass("magic-combobox-menu-item-hover");var b=baidu3(a).attr("data-index");this.fire("highlight",{index:b})},"$clearHighlight":function(){var a=baidu3(".magic-combobox-menu-item",this.getElement("menu"));a.removeClass("magic-combobox-menu-item-hover")},getValue:function(){return this.selectValue||this._getValue(this.getElement("input").value)||this.getElement("input").value},getSelectIndex:function(){for(var b=this._options.items,a=b.length;a--;){if(b[a].value+""===this.selectValue){return a}}return -1},setByValue:function(c){for(var b=this._options.items,a=b.length;a--;){if(b[a].value==c){this.selectValue=c;this.getElement("input").value=b[a].content;if(this.select){this.select.options[a].selected=true}break}}},"$setByIndex":function(a){var b=this._options.items[a]||this._options.items[0];this.getElement("input").value=b.content;this.selectValue=b.value;if(this.select){this.select.options[a].selected=true}},focus:function(){if(!this.isFocus){this.fire("focus")}},blur:function(){if(this.isFocus){var a=this._getValue(this.getElement("input").value);a=a?a:this.getElement("input").value;if(a!=this.selectValue){this.fire("change",{from:"blur"});this.selectValue=a}this.fire("blur")}},reset:function(){this._initInput();if(this.select){var a=this._options.originIndex==-1?0:this._options.originIndex;this.select.options[a].selected=true}},reload:function(a){this._options.items=a;this._renderMenu();this._initInput();this.highlightIndex=-1;this.fire("reload",{data:a})},disable:function(){if(!this.disabled){baidu3(this.getElement("container")).addClass("magic-combobox-disable");this.getElement("input").disabled=true;this.disabled=true}},enable:function(){if(this.disabled){baidu3(this.getElement("container")).removeClass("magic-combobox-disable");this.getElement("input").disabled=false;this.disabled=false}},setWidth:function(a){this.width=a;baidu3(this.getElement("container")).css("width",a);this.menu.setWidth(this.getElement("container").offsetWidth)},"$dispose":function(){baidu3(this.getElement("input-container")).off("click").off("keydown");baidu3(this.getElement("input")).off("keydown").off("keyup");baidu3(this.getElement("arrow")).off("click").off("keydown");baidu3(this.getElement("menu")).off("click").off("mouseover").off("mouseout");this.menu.hide();this.menu.$dispose();baidu3.array(magic.control.ComboBox.instanceArray).remove(this.guid);magic.Base.prototype.$dispose.call(this)}});(function(){magic.control.ComboBox.globalActive=null;function a(){var b=magic.control.ComboBox.globalActive;if(b!=null){var f=baidu3Instance(b);f.focus()}var e=magic.control.ComboBox.instanceArray;if(e){for(var c=e.length;c--;){if(e[c]==b){continue}var d=baidu3Instance(e[c]);if(d.isFocus){d.blur();break}}magic.control.ComboBox.globalActive=null}}baidu3(document).click(a).keydown(a)})();magic.ComboBox=baidu3.lang.createClass(function(a){},{type:"magic.ComboBox",superClass:magic.control.ComboBox}).extend({"$toHTMLString":function(){return['<div id="'+this.$getId("container")+'" class="magic-combobox">','<div id="'+this.$getId("input-container")+'" class="magic-combobox-input-container clearfix">','<div class="magic-combobox-input-outter">','<div class="magic-combobox-input-inner">','<input id="'+this.$getId("input")+'" class="magic-combobox-input"'+(this._options.readonly?"readonly":"")+">","</div>","</div>",'<a href="#" id="'+this.$getId("arrow")+'" class="magic-combobox-arrow" onclick="return false"></a>',"</div>","</div>"].join("")},_menuContainerToHTMLString:function(){return'<ul id="'+this.$getId("menu")+'" class="magic-combobox-menu"></ul>'},"$menuContentToHTMLString":function(b){var a=[];baidu3.array(b).each(function(c,d){a.push('<li data-index="'+c+'" data-value="'+b[c].value+'" class="magic-combobox-menu-item">'+b[c].content+"</li>")});return a.join("")},render:function(b,a){a=a||"beforeEnd";baidu3(b).insertHTML(a,this.$toHTMLString(this._options.items));this.fire("load")},"$dispose":function(){if(this.disposed){return}if(this.select){var c=this.select,b=c.parentNode}var a=this.getElement("container");magic.control.ComboBox.prototype.$dispose.call(this);baidu3(a).remove();if(c){b.parentNode.insertBefore(c,b);baidu3(b).remove();c.style.visibility="";c.style.width=""}a=null}});baidu3.dom._NAME_ATTRS=(function(){var a={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};if(baidu3.browser.ie<8){a["for"]="htmlFor";a["class"]="className"}else{a.htmlFor="for";a.className="class"}return a})();baidu3.dom.extend({getAttr:function(a){element=this[0];if("style"==a){return element.style.cssText}a=baidu3.dom._NAME_ATTRS[a]||a;return element.getAttribute(a)}});(function(){magic.setup.combobox=function(e,d){d=d||{};var e=baidu3.dom.g(e),c=a(e),g=null;baidu3.object.extend(c,{width:e.offsetWidth+10,disabled:e.disabled});d=baidu3.object.extend(c,d);var b=magic.setup(e,magic.ComboBox,d);baidu3.dom.insertHTML(e,"beforeBegin",'<span id="'+b.guid+'-host" class="magic-combobox-host"></span>');var f=baidu3("#"+b.guid+"-host");f.append(e);b.select=e;e.style.width=(e.offsetWidth+15)+"px";e.style.visibility="hidden";b.render(f,"afterBegin");baidu3(b.getElement("container")).addClass("magic-combobox-container-setup");b.on("change",function(j){if(j.from=="confirm"){if(j.result.index){e.options[j.result.index].selected=true}}else{if(j.from=="blur"){var h=this.getElement("input").value;if(!g){g=document.createElement("OPTION");g.selected=true;e.add(g)}g.value=g.text=h}}});b.on("reload",function(l){var m=l.data,k=m.length,j=0;e.options.length=0;for(;j<k;j++){var h=document.createElement("OPTION");h.value=m[j].value;h.text=m[j].content;e.add(h)}});return b};function a(c){var b=[],e=-1,d=c.options;baidu3.each(d,function(f,g){b.push({value:g.value,content:g.text});if(g.selected){e=f}});return{items:b,originIndex:e}}})();Array.prototype.filter=function(e,d){var a=baidu3.array([]),c,g,f,b=0;if(baidu3.type(e)==="function"){for(c=0,g=this.length;c<g;c++){f=this[c];if(e.call(d||this,f,c,this)===true){a[b++]=f}}}return a};baidu3.array.filter=function(c,b,a){return baidu3.isArray(c)?c.filter(b,a):[]};(function(){var a=baidu3.lang.createClass(function(b){var c=this;c._options=baidu3.object.extend({circleTime:10,waitingTime:100,originValue:"",getValue:function(){return null}},b);c.previous=null;c.now="";c.fireTimer=0;c.timer=0;c.originValue=c._options.originValue;c.focusValue=null}).extend({_compare:function(b){if(!this.timer){return}b.now=b._options.getValue();if(b.now==b.previous&&b.focusValue!=b.now&&b.now!=b.originValue){if(b.fireTimer==0){b.fireTimer=setTimeout(function(){b.fire("fire",{value:b.now})},b._options.waitingTime)}}else{clearTimeout(b.fireTimer);b.fireTimer=0;b.previous=b.now;if(b.now!=b.originValue){b.originValue=null}if(b.now!=b.focusValue){b.focusValue=null}}},start:function(){var b=this;b.timer=setInterval(function(){b._compare(b)},b._options.circleTime)},stop:function(){clearInterval(this.timer);this.timer=null}});baidu3.lang.register(magic.control.ComboBox,function(b){var c=this;c._options.suggestion=baidu3.object.extend({enable:true},b.suggestion);if(!c._options.suggestion.enable||c._options.readonly){return}this.on("load",function(){c.timer=new a({getValue:function(){return c.getElement("input").value},originValue:this.getElement("input").value});c.timer.on("fire",function(f){if(f.value==""){c._renderMenu();c.menu.show()}else{var d=c._getMenuData(f.value);if(d.length>0){c._renderMenu(d);c.menu.show()}else{c.menu.visible&&c.menu.hide()}}});c.timer.start()});this.on("pick",function(d){c.timer.focusValue=d.result.content});this.on("pickOrigin",function(d){c.timer.focusValue=d.content});this.on("reload",function(d){c.timer.focusValue=this.getElement("input").value});this.on("dispose",function(d){if(c.timer){c.timer.stop()}})},{_getMenuData:function(b){return baidu3.array(this._options.items).filter(function(d,c){return(d.content.indexOf(b)!=-1)})}})})();baidu3.dom._styleFixer=baidu3.dom._styleFixer||{};baidu3.dom._styleFilter=baidu3.dom._styleFilter||[];baidu3.dom._styleFilter.filter=function(b,e,f){for(var a=0,d=baidu3.dom._styleFilter,c;c=d[a];a++){if(c=c[f]){e=c(b,e)}}return e};baidu3.dom.getStyle=function(c,b){var e=baidu3.dom;c=e.g(c);b=baidu3.string.toCamelCase(b);var d=c.style[b]||(c.currentStyle?c.currentStyle[b]:"")||e.getComputedStyle(c,b);if(!d||d=="auto"){var a=e._styleFixer[b];if(a){d=a.get?a.get(c,b,d):baidu3.dom.getStyle(c,a)}}if(a=e._styleFilter){d=a.filter(b,d,"get")}return d};baidu3.page.getScrollLeft=function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft};(function(){baidu3.page.getMousePosition=function(){return{x:baidu3.page.getScrollLeft()+a.x,y:baidu3.page.getScrollTop()+a.y}};var a={x:0,y:0};baidu3.event.on(document,"onmousemove",function(b){b=window.event||b;a.x=b.clientX;a.y=b.clientY})})();(function(){var n=false,j,h,e,d,c,f,m,a,l,o;baidu3.dom.drag=function(q,p){if(!(j=baidu3.dom.g(q))){return false}h=baidu3.object.extend({autoStop:true,capture:true,interval:16},p);a=f=parseInt(baidu3.dom.getStyle(j,"left"))||0;l=m=parseInt(baidu3.dom.getStyle(j,"top"))||0;n=true;setTimeout(function(){var s=baidu3.page.getMousePosition();e=h.mouseEvent?(baidu3.page.getScrollLeft()+h.mouseEvent.clientX):s.x;d=h.mouseEvent?(baidu3.page.getScrollTop()+h.mouseEvent.clientY):s.y;clearInterval(c);c=setInterval(b,h.interval)},1);var r=baidu3.dom(document);h.autoStop&&r.on("mouseup",k);r.on("selectstart",g);if(h.capture&&j.setCapture){j.setCapture()}else{if(h.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}o=document.body.style.MozUserSelect;document.body.style.MozUserSelect="none";baidu3.isFunction(h.ondragstart)&&h.ondragstart(j,h);return{stop:k,dispose:k,update:function(s){baidu3.object.extend(h,s)}}};function k(){n=false;clearInterval(c);if(h.capture&&j.releaseCapture){j.releaseCapture()}else{if(h.capture&&window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}document.body.style.MozUserSelect=o;var p=baidu3.dom(document);p.off("selectstart",g);h.autoStop&&p.off("mouseup",k);baidu3.isFunction(h.ondragend)&&h.ondragend(j,h,{left:a,top:l})}function b(t){if(!n){clearInterval(c);return}var q=h.range||[],p=baidu3.page.getMousePosition(),r=f+p.x-e,s=m+p.y-d;if(baidu3.isObject(q)&&q.length==4){r=Math.max(q[3],r);r=Math.min(q[1]-j.offsetWidth,r);s=Math.max(q[0],s);s=Math.min(q[2]-j.offsetHeight,s)}j.style.left=r+"px";j.style.top=s+"px";a=r;l=s;baidu3.isFunction(h.ondrag)&&h.ondrag(j,h,{left:a,top:l})}function g(p){return baidu3.event.preventDefault(p,false)}})();baidu3.dom.extend({map:function(a){baidu3.check("function","baidu3.dom.map");var b=this,c=baidu3.dom();baidu3.forEach(this,function(e,d){c[c.length++]=a.call(e,d,e,e)});return c}});baidu3.dom.extend({offsetParent:function(){return this.map(function(){var b=this.offsetParent||document.body,a=/^(?:body|html)$/i;while(b&&baidu3.dom(b).getCurrentStyle("position")==="static"&&!a.test(b.nodeName)){b=b.offsetParent}return b})}});baidu3.dom.extend({position:function(){if(this.size()<=0){return 0}var a=/^(?:body|html)$/i,d=this.offset(),b=this.offsetParent(),c=a.test(b[0].nodeName)?{left:0,top:0}:b.offset();d.left-=parseFloat(this.getCurrentStyle("marginLeft"))||0;d.top-=parseFloat(this.getCurrentStyle("marginTop"))||0;c.left+=parseFloat(b.getCurrentStyle("borderLeftWidth"))||0;c.top+=parseFloat(b.getCurrentStyle("borderTopWidth"))||0;return{left:d.left-c.left,top:d.top-c.top}}});baidu3.page.getWidth=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollWidth,a.scrollWidth,b.clientWidth)};baidu3.page.getHeight=function(){var d=document,a=d.body,c=d.documentElement,b=d.compatMode=="BackCompat"?a:d.documentElement;return Math.max(c.scrollHeight,a.scrollHeight,b.clientHeight)};magic.control.Dialog=baidu3.lang.createClass(function(b){var a={draggable:true};baidu3.object.extend(a,b=b||{});baidu3.object.extend(this,a);this.zIndex=baidu3.global.getZIndex("dialog",5);this.disposeProcess=[];this.on("load",function(){var e=this.getElement(),j=this;if(typeof this.left=="number"||typeof this.top=="number"){this.setPosition(this)}if(typeof this.width=="number"||typeof this.height=="number"){this.setSize(this)}this._isShown=true;this.focus();var d=function(m){j.focus(m)};baidu3(document).on("mousedown",d);this.disposeProcess.unshift(function(){baidu3(document).off("mousedown",d)});if(this.draggable){var l=this.getElement("title"),k;var h=baidu3.fn.bind;var j=this;var f=e.parentNode;var g=baidu3(f).position();l.className+=" tang-title-dragable";var c={top:function(){var m=baidu3(f).css("borderTopWidth");if(!/px/.test(m)){m=0}else{m=parseInt(m)}if(f==document.body){return 0-m}else{return 0-(g.top+m)}},right:function(){var n=baidu3(".tang-background-inner",e)[0];var m=baidu3(n).css("marginLeft")=="auto"?n.offsetLeft+"px":baidu3(n).css("marginLeft");return baidu3.page.getWidth()+c.left()-parseInt(m)},bottom:function(){var n=baidu3(".tang-background-inner",e)[0];var m=baidu3(n).css("marginTop")=="auto"?n.offsetTop+"px":baidu3(n).css("marginTop");return baidu3.page.getHeight()+c.top()-parseInt(m)},left:function(){var m=baidu3(f).css("borderLeftWidth");if(!/px/.test(m)){m=0}else{m=parseInt(m)}if(f==document.body){return 0-m}else{return 0-(g.top+m)}}};baidu3(l).on("mousedown",k=h(function(m){m.preventDefault();baidu3.dom.drag(e,{ondragstart:h(function(){this.fire("dragstart")},this),ondrag:h(function(){this.fire("drag")},this),ondragend:h(function(){this.fire("dragstop")},this),range:[c.top(),c.right(),c.bottom(),c.left()]})},this));this.disposeProcess.unshift(function(){baidu3(l).off("mousedown",k)})}});this.on("resize",function(e,f){var c=this.getElement("titleText");var d=this.getElement("titleButtons");if(typeof f.width=="number"){baidu3(c).css("width",Math.max(0,f.width-d.clientWidth-20)+"px")}})},{type:"magic.control.Dialog",superClass:magic.Base});magic.control.Dialog.extend({isShowing:function(){return this._isShown},show:function(){if(this.fire("beforeshow")===false){return this}this.getElement().style.display="";this._isShown=true;this.fire("show")},hide:function(){if(this.fire("beforehide")===false){return this}this._isShown=false;this.getElement().style.display="none";this.fire("hide")},setTitleText:function(b){var a=this.getElement("titleText");a.innerHTML=baidu3.string.encodeHTML(b)||"&nbsp;";return this},setContent:function(d,f){var b=this.getElement("content");var c,e,a;if(c=this._lastDom){a=c.parent;if(c.content===d){return this}if(c.target){a.insertBefore(c.content,c.target)}else{a.appendChild(c.content)}this._lastDom=null}switch(f){case"text":b.innerHTML=baidu3.string.encodeHTML(d);baidu3(b).removeClass("contentFrame");break;case"element":if(a=d.parentNode){a.insertBefore(e=document.createTextNode(""),d);this._lastDom={content:d,parent:d.parentNode,target:e}}b.innerHTML="";b.appendChild(d);break;case"frame":b.innerHTML="<iframe frameborder='no' src='"+d+"'></iframe>";baidu3(b).hasClass("contentFrame")||baidu3(b).addClass("contentFrame");break;default:b.innerHTML=d;baidu3(b).removeClass("contentFrame");break}return this},focus:function(b){if(arguments.length){var a=b.target;if(baidu3(a).closest(this.getElement()).size()>0){baidu3(this.getElement()).css("zIndex",this.zIndex=baidu3.global.getZIndex("dialog",5));if(baidu3.global.get(this.$getId()+"focus")!=true){this.fire("focus");baidu3.global.set(this.$getId()+"focus",true)}}else{baidu3.global.set(this.$getId()+"focus",false)}}else{baidu3(this.getElement()).css("zIndex",this.zIndex=baidu3.global.getZIndex("dialog",5));baidu3.global.set(this.$getId()+"focus",true);this.fire("focus")}},setSize:function(b){var c=this.getElement("foreground");if(typeof b.width=="number"){baidu3(c).css("width",(this.width=b.width)+"px")}if(typeof b.height=="number"){baidu3(c).css("height",(this.height=b.height)+"px");var a=Math.max(0,this.height-this._titleHeight)+"px";baidu3(this.getElement("body")).css("height",a);baidu3(this.getElement("content")).css("height",a)}this.fire("resize",b)},getSize:function(){return{width:this.width,height:this.height}},setPosition:function(a){if(typeof a.left=="number"){baidu3(this.getElement()).css("left",(this.left=a.left)+"px")}if(typeof a.top=="number"){baidu3(this.getElement()).css("top",(this.top=a.top)+"px")}this.fire("move",a)},getPosition:function(){return{left:this.left,top:this.top}},center:function(){var b=document[baidu3.browser.isStrict?"documentElement":"body"];var a=b.clientWidth;var e=b.clientHeight;var d=(((a-this.width)/2)|0)+baidu3.page.getScrollLeft();var c=(((e-this.height)/2)|0)+baidu3.page.getScrollTop();this.setPosition({left:d,top:c})},$dispose:function(){for(var b=0,a=this.disposeProcess.length;b<a;b++){this.disposeProcess[b].call(this)}magic.Base.prototype.$dispose.call(this)}});baidu3.object.isPlain=baidu3.isPlainObject;baidu3.fn.blank=function(){};baidu3.page.getViewWidth=function(){var b=document,a=b.compatMode=="BackCompat"?b.body:b.documentElement;return a.clientWidth};magic.Dialog=baidu3.lang.createClass(function(b){var a={width:400,height:300,left:0,top:0,contentType:"html",dialogID:""};baidu3.object.extend(a,b||{});baidu3.object.extend(this,a);if(this.width<100){this.width=100}if(this.height<100){this.height=100}},{type:"magic.Dialog",superClass:magic.control.Dialog});magic.Dialog.extend({render:function(b){if(baidu3.type(b)==="string"){b="#"+b}b=baidu3(b)[0];b||document.body.appendChild(b=document.createElement("div"));var a=magic.Dialog.template.join("");baidu3(b).addClass("tang-ui tang-dialog").attr("id",this.dialogID);baidu3(b).insertHTML("beforeEnd",baidu3.string.format(a,{title:baidu3.string.encodeHTML(this.titleText||"")||"&nbsp;",content:"",titleId:this.$getId("title"),titleTextId:this.$getId("titleText"),titleButtonsId:this.$getId("titleButtons"),bodyId:this.$getId("body"),contentId:this.$getId("content"),closeBtnId:this.$getId("closeBtn"),foregroundId:this.$getId("foreground")}));this._background=new magic.Background({coverable:true});this._background.render(b);this.$mappingDom("",b);this._titleHeight=this.getElement("title").offsetHeight||30;baidu3(this.getElement("closeBtn")).on("click",this._closeBtnFn=baidu3.fn.bind(this.hide,this));this.setSize(this);this.setPosition(this.left,this.top);if(this.content){this.setContent(this.content,this.contentType)}this.fire("load");this.show();this.disposeProcess.push(function(){baidu3(this.getElement("closeBtn")).off("click",this._closeBtnFn);this._background.$dispose();b.innerHTML="";baidu3(b).addClass("tang-ui tang-dialog")})}});magic.Dialog.template=["<div class='tang-foreground' id='#{foregroundId}'>","<div class='tang-title' id='#{titleId}'>","<div class='buttons' id='#{titleButtonsId}'>","<a id='#{closeBtnId}' class='close-btn' href='' onmousedown='event.stopPropagation && event.stopPropagation(); event.cancelBubble = true; return false;' onclick='return false;'></a>","</div>","<span id='#{titleTextId}'>#{title}</span>","</div>","<div class='tang-body' id='#{bodyId}'>","<div class='tang-content' id='#{contentId}'>#{content}</div>","</div>","</div>"];(function(){var a=[];function c(){for(var e=0,d=a.length;e<d;e++){a[e]()}a=[]}function b(){var g=baidu3.browser.ie;var e=document.createElement("div");e.className="tang-mask";g==6&&baidu3(e).css("position","absolute");baidu3(e).css("zIndex",baidu3.global.getZIndex("dialog",-5));document.body.appendChild(e);function f(){e.style.display="none";baidu3(e).css("height",baidu3.page.getViewHeight()+"px");baidu3(e).css("width",baidu3.page.getViewWidth()+"px");e.style.display=""}function d(){e.style.display="none";baidu3(e).css("top",baidu3.page.getScrollTop()+"px");baidu3(e).css("left",baidu3.page.getScrollLeft()+"px");e.style.display=""}f();g==6&&d();baidu3(window).on("resize",f);a.push(function(){baidu3(window).off("resize",f)});g==6&&baidu3(window).on("scroll",d);g==6&&a.push(function(){baidu3(window).off("scroll",d)});a.push(function(){document.body.removeChild(e)})}magic.Dialog.alert=function(){var e={width:360,height:140,titleText:"",content:"",ok:baidu3.fn.blank};var m={},h,d,k,f,g;if(!baidu3.object.isPlain(arguments[0])){arguments[0]&&(m.content=arguments[0]);arguments[1]&&(m.titleText=arguments[1]);arguments[2]&&(m.ok=arguments[2])}else{m=arguments[0]}baidu3.object.extend(e,m||{});if(baidu3.object.isPlain(e.ok)){h=e.ok.label;d=e.ok.callback}else{h=baidu3.i18n.cultures[baidu3.i18n.currentLocale].language.ok;d=e.ok}var l=new magic.Dialog(e);l.render();l.center();var j=baidu3("#"+l.$getId());baidu3(l.getElement("body")).insertHTML("beforeEnd",'<p class="tang-buttons"><button id="'+l.$getId("ok-button")+'">'+h+"</button></p>");baidu3("#"+l.$getId("ok-button")).on("click",k=function(){c();d.call(l)});a.push(function(){baidu3("#"+l.$getId("ok-button")).off("click",k)});baidu3(l.getElement("closeBtn")).on("click",f=function(){c();d.call(l)});a.push(function(){baidu3(l.getElement("closeBtn")).off("click",f)});baidu3(document).on("keydown",g=function(n){n=n||window.event;switch(n.keyCode){case 27:k();break;case 13:n.preventDefault();n.stopPropagation();k();break;default:break}});a.push(function(){baidu3(document).off("keydown",g)});a.push(function(){l.$dispose()});a.push(function(){document.body.removeChild(j[0])});b();return l};magic.alert=magic.Dialog.alert;magic.Dialog.confirm=function(){var g={width:360,height:140,titleText:"",content:"",ok:baidu3.fn.blank,cancel:baidu3.fn.blank};var n={},k,e,l,f,d,o,h,j;if(!baidu3.object.isPlain(arguments[0])){arguments[0]&&(n.content=arguments[0]);arguments[1]&&(n.titleText=arguments[1]);arguments[2]&&(n.ok=arguments[2]);arguments[3]&&(n.cancel=arguments[3])}else{n=arguments[0]}baidu3.object.extend(g,n||{});if(baidu3.object.isPlain(g.ok)){k=g.ok.label;e=g.ok.callback}else{k=baidu3.i18n.cultures[baidu3.i18n.currentLocale].language.ok;e=g.ok}if(baidu3.object.isPlain(g.cancel)){f=g.cancel.label;d=g.cancel.callback}else{f=baidu3.i18n.cultures[baidu3.i18n.currentLocale].language.cancel;d=g.cancel}var m=new magic.Dialog(g);m.render();m.center();var p=baidu3("#"+m.$getId());baidu3(m.getElement("body")).insertHTML("beforeEnd",'<p class="tang-buttons"><button id="'+m.$getId("ok-button")+'">'+k+'</button><button id="'+m.$getId("cancel-button")+'">'+f+"</button></p>");baidu3("#"+m.$getId("ok-button")).on("click",l=function(){c();e.call(m)});a.push(function(){baidu3("#"+m.$getId("ok-button")).off("click",l)});baidu3("#"+m.$getId("cancel-button")).on("click",o=function(){c();d.call(m)});a.push(function(){baidu3("#"+m.$getId("cancel-button")).off("click",o)});baidu3(m.getElement("closeBtn")).on("click",h=function(){c();d.call(m)});a.push(function(){baidu3(m.getElement("closeBtn")).off("click",h)});baidu3(document).on("keydown",j=function(q){q=q||window.event;switch(q.keyCode){case 27:o();break;case 13:q.preventDefault();q.stopPropagation();l();break;default:break}});a.push(function(){baidu3(document).off("keydown",j)});a.push(function(){m.$dispose()});a.push(function(){document.body.removeChild(p[0])});b();return m};magic.confirm=magic.Dialog.confirm})();magic.setup.background=function(e,a){var c=a||{};var b=magic.setup(baidu3.dom(e).get(0)||e,magic.Background,c);var g=b.getElement(),d=g.style,f=g.parentNode;d.top="0px";d.left="0px";d.width=b.timer?"10px":"100%";d.height=b.timer?"10px":"100%";d.position="absolute";d.zIndex=-9;b.coverable&&baidu3.dom(g).insertHTML("beforeend",b._coverDom||"");f!=document.body&&baidu3.dom(f).getCurrentStyle("position")=="static"&&(f.style.position="relative");return b};magic.setup.dialog=function(h,e){if(baidu3.type(h)==="string"){h="#"+h}h=baidu3(h)[0];var g=e||{};var a=magic.setup(h,magic.control.Dialog,g);var d=a.getElement();var c=h.childNodes;for(var f=0,b=c.length;f<b;f++){if(c[f].nodeType!=3&&~c[f].className.indexOf("tang-background")){magic.setup.background(c[f],{coverable:true});break}}a.$mappingDom("title",baidu3(".tang-title",d)[0]);a.$mappingDom("titleText",baidu3("span",a.getElement("title"))[0]);a.$mappingDom("titleButtons",baidu3(".buttons",a.getElement("title"))[0]);a.$mappingDom("body",baidu3(".tang-body",d)[0]);a.$mappingDom("content",baidu3(".content",a.getElement("body"))[0]);a.$mappingDom("closeBtn",baidu3(".close-btn",a.getElement("title"))[0]);a.$mappingDom("foreground",baidu3(".tang-foreground",d)[0]);a._titleHeight=a.getElement("title").offsetHeight||30;if(typeof a.left=="undefined"){a.left=baidu3(d).css("left")=="auto"?0:baidu3(d).css("left")}if(typeof a.top=="undefined"){a.top=baidu3(d).css("top")=="auto"?0:baidu3(d).css("top")}if(typeof a.width!="number"){a.width=d.clientWidth}if(typeof a.height!="number"){a.height=d.clientHeight}if(a.width<100){a.width=100}if(a.height<100){a.height=100}a.fire("load");a.show();if(g.titleText){a.setTitleText(g.titleText)}if(g.content){a.setContent(g.content,g.contentType||"html")}return a};magic.Mask=function(c){var e=this;magic.control.Layer.call(this);e.zIndex=999;e.opacity=0.3;e.bgColor="#000000";e.coverable=false;e.container=document.body;baidu3.object.extend(e,c||{});var d=baidu3.browser.safari,f=baidu3.browser.ie;baidu3.dom(e.container).insertHTML("afterBegin",e.toHTMLString());if(f==6){e.getElement().style.position="absolute"}function b(){if(e.container==document.body){var h=e.getElement().style;h.display="none";e.setSize([baidu3.page.getViewWidth(),baidu3.page.getViewHeight()]);h.display=""}}function a(){if(e.container==document.body){var h=e.getElement().style;h.display="none";h.top=baidu3.page.getScrollTop()+"px";h.left=baidu3.page.getScrollLeft()+"px";h.display=""}}function g(k){var n=document.getElementsByTagName("object");var j=k?"visible":"hidden";for(var m=0,p,h=n.length;m<h;m++){p=n[m];p.style.visibility=j}}e.on("show",function(){b();f==6&&a();baidu3.dom(window).on("resize",b);f==6&&baidu3.dom(window).on("scroll",a);var h=e.getElement().style;h.opacity=e.opacity;h.zIndex=e.zIndex;h.filter="alpha(opacity="+e.opacity*100+")";h.backgroundColor=e.bgColor;d&&g(false)});e.on("hide",function(){baidu3.dom(window).off("resize",b);f==6&&baidu3.dom(window).off("scroll",a);d&&g(true)})};baidu3.lang.inherits(magic.Mask,magic.control.Layer,"magic.Mask").extend({toHTMLString:function(){return"<div id='"+this.$getId()+"' style='top:0px; left:0px; position:fixed; display:none;'>"+("<iframe frameborder='0' style='filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1' src='about:blank'></iframe><div style='position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1;'>&nbsp;</div>")+"</div>"}});baidu3.lang.register(magic.control.Dialog,function(a){if(this.mask&&this.mask.enable){this.renderMask();this.on("load",function(){if(!this.left){this.center()}});this.on("show",function(){this.showMask()});this.on("hide",function(){this.hideMask()})}},{renderMask:function(){if(this._mask){return this}this._mask=new magic.Mask({opacity:this.mask.opacity||0.15,bgColor:this.mask.bgColor||"#000",zIndex:this.zIndex-1});return this},showMask:function(){this._mask.show();return this},hideMask:function(){this._mask.hide();return this}});magic.control.Slider=baidu3.lang.createClass(function(b){var c=this,d=c._info=baidu3.object.extend({accuracy:0,_status:"enable"},b),a=d._isVertical=d.orientation=="vertical";d.direction=="backward"&&(d._oppsite=true);baidu3.object.extend(d,{_suffix:a?"vtl":"htl",_knobKey:a?"top":"left",_mouseKey:a?"y":"x",_accuracyKey:a?"height":"width"});c.on("load",function(){var e=c.getElement("view"),f=c.getElement("inner"),j=["mousedown","click"],g=baidu3.fn.bind(c._eventControl,c),h=d._accuracyKey;d._val="offset"+h.replace(/([a-z])([a-z]*)/,function(k,m,l){return m.toUpperCase()+l});d.width=e.clientWidth;d.height=e.clientHeight;d._range=[0,d[h]];d._limit=f[d._val];d._const=(d._range[1]-d._limit)/2;baidu3.array.each(j,function(l,k){baidu3.dom(e).on(l,g)});c.on("dispose",function(){baidu3.array.each(j,function(l,k){baidu3.dom(e).off(l,g)})});c._setAccuracy(d.accuracy);c.setValue(d.currentValue)})},{type:"magic.control.Slider",superClass:magic.Base});magic.control.Slider.extend({disable:function(){this._info._status="disabled"},enable:function(){this._info._status="enable"},setValue:function(b){var a=this,d=a._info,c=d._accuracyKey,b=b||0,e=d[c]*b;if(d._oppsite){e=d[c]*a._accSub(1,b)}a._setPosition({target:null,noAccuracy:true,noFx:true},e);d.currentValue=b},getValue:function(){return this._info.currentValue},setRange:function(d){var c=this,e=c._info,a=e[e._accuracyKey],b=d*a;if(e.accuracy){return}e._oppsite?e._range[0]=b:e._range[1]=b;e._percent=b/a},$dispose:function(){var a=this;if(a.disposed){return}magic.Base.prototype.$dispose.call(a)},_accSub:function(f,d){var c,b,a,h;try{c=f.toString().split(".")[1].length}catch(g){c=0}try{b=d.toString().split(".")[1].length}catch(g){b=0}a=Math.pow(10,Math.max(c,b));h=(c>=b)?c:b;return((f*a-d*a)/a).toFixed(h)},_startDrag:function(n){var l=this,d=l._info,b=l.getElement("knob"),a=l.getElement("process"),g=d.accuracy,e=d.width,c=d.height,k=t2=0,f=b[d._val],j=d._range,m=[],h=parseInt(baidu3.dom(b).css("margin-"+d._knobKey));if(d._isVertical){c=j[1]+f;k=j[0]}else{e=j[1]+f;t2=j[0]}m=[k,e,c,t2];if(n.target!=b||l._isMoving){return}l._recover();baidu3.dom.drag(b,{range:m,fix:[d._knobKey,h],ondragstart:function(){l.fire("onslidestart")},ondrag:function(){var o=l._getRealPos(b,d._knobKey);baidu3.dom(a).css(d._accuracyKey,l._getProcessPos(o));l._setCurrentValue(o);l.fire("onslide");l.fire("onchange",{value:d.currentValue})},ondragend:function(o,q,p){p=p[d._knobKey];l._reset(p);g&&l._useAdsorbr(p);l.fire("onslidestop")}})},_resize:function(){var e=this,f=e._info,d=isNaN(Math.min(f._percent,1))?1:Math.min(f._percent,1),c=e.getElement("inner"),b=e.getElement("view"),a;f.width=b.clientWidth;f.height=b.clientHeight;f._limit=c[f._val];a=f[f._accuracyKey];if(f._oppsite){f._range=d<1?[a*d,a]:[0,a]}else{f._range=[0,a*d]}e._setAccuracy(f.accuracy)},_recover:function(){var d=this,g=d._info,a=d.getElement("knob"),f=d.getElement("process"),e=g._accuracyKey,c=a.style[g._knobKey],b=f.style[e];if(/px|auto/.test(c)){return}if(!c.length){c=0}if(!b.length){b=0}c=parseFloat(c)/100*g[e]+"px";b=parseFloat(b)/100*g._limit+"px";baidu3.dom(a).css(g._knobKey,c);baidu3.dom(f).css(e,b)},_reset:function(e){var b=this,d=b._info,a=b.getElement("knob"),c=b.getElement("process");if(/%/.test(e)){return}baidu3.dom(a).css(d._knobKey,b._knobPercent(e));baidu3.dom(c).css(d._accuracyKey,b._processPercent(b._getProcessPos(e)))},_knobPercent:function(b){var a=this._info;return parseFloat(b)/a[a._accuracyKey]*100+"%"},_processPercent:function(a){return parseFloat(a)/this._info._limit*100+"%"},_getRealPos:function(b,a){return b.style[a]},_getProcessPos:function(f){var c=this,d=c._info,b=d._range,a=d._limit,f=parseFloat(f)-d._const;if(b[0]&&f<b[0]){var e=b[0]-d._const;return e>0?e+"px":0}else{if(f>b[1]){return b[1]-d._const+"px"}}f<0&&(f=0);f>a&&(f=a);d._oppsite&&(f=a-f);return f+"px"},_getKnobPos:function(c){var c=parseFloat(c),b=this._info,a=b._range;if(b._oppsite){c=c<a[0]?a[0]:c}else{c=c>a[1]?a[1]:c}return c+"px"},_getMousePos:function(){var a=this.getElement("view"),c=baidu3.page.getMousePosition(),b=baidu3.dom(a).offset();if(this._info._mouseKey=="x"){return c.x-b.left}else{return c.y-b.top}},_move:function(b,f,h){var d=this,e=d._info,c=e._range,a=d._getKnobPos(h),g=d._getProcessPos(h);d._setCurrentValue(a);baidu3.dom(b).css(e._knobKey,d._knobPercent(a));baidu3.dom(f).css(e._accuracyKey,d._processPercent(g))},_setCurrentValue:function(b){var a=this._info;a.currentValue=(parseFloat(b)*10)/(a[a._accuracyKey]*10)},_slide:function(g,b,f){var c=this,e=c._info,a=c.getElement("knob"),d=c.getElement("process");if(c.fire("startFx",{knob:a,process:d,pos:g,fn:b})){c._move(a,d,g);b&&b()}},_setPosition:function(h,g,e){var f=this,d=f._info,c=f.getElement("knob"),b=f.getElement("process"),a=h.noAccuracy||!d.accuracy,j=function(k){f._isMoving=false;f.fire("onchange",{value:d.currentValue})};g==e&&(g=f._getMousePos());if(h.target===c){return}f._isMoving=true;a?f._slide(g,j,h.noFx):f._useAdsorbr(g,j,h.noFx)},_useAdsorbr:function(h,j,a){var g=this,b=g._info,h=parseFloat(h)||0,e=b._range,c=b._accuracyZone.slice(0),f=c.length,d=0,m=h,l;if(h==0||h>e[1]){l=h}else{if(b.accuracy){for(;d<f;d++){var k=Math.abs(c[d]-h);if(k<=m){m=k;l=c[d]}}}else{l=h}}g._slide(l,j,a)},_setAccuracy:function(e){var g=this._info,b=g._range,f=g._accuracyKey,d=e*g[f],a=0,c=[0],h;if(e==0){g.accuracy=0;delete g._accuracyZone}g.accuracy=e;while((h=a+d)&&h<b[1]){a=h;c.push(h)}g._accuracyZone=c.concat(g[f])},_eventControl:function(b){var c=this,a=c.getElement("knob"),d=c.getElement("process");b.preventDefault();c._resize();if(c._info._status=="enable"){if(b.target==a&&b.type=="mousedown"){c._startDrag(b)}else{if(b.type=="mousedown"){c._setPosition(b);c.fire("onslideclick")}}}}});magic.Slider=baidu3.lang.createClass(function(a){},{type:"magic.Slider",superClass:magic.control.Slider});magic.Slider.extend({render:function(a){var b=this;a=baidu3.dom("#"+a).get(0);a||document.body.appendChild(a=document.createElement("div"));if(/tang-slider/.test(a.className)){return}baidu3.dom(a).addClass("tang-ui tang-slider tang-slider-"+b._info._suffix);a.innerHTML=b.toHTMLString();b.$mappingDom("",a);b.fire("load")},toHTMLString:function(){var d=this,e=d._info,c="tang-process-"+e.direction,a=e._oppsite?"-backward":"",b=baidu3.string.format(magic.Slider.template,{id:d.$getId(),viewId:d.$getId("view"),innerId:d.$getId("inner"),cornerClass:a,processId:d.$getId("process"),processClass:c,knobId:d.$getId("knob")});return b},$dispose:function(){var b=this,a;if(b.disposed){return}a=b.getElement("");magic.Base.prototype.$dispose.call(b);baidu3.dom(a).remove();a=null}});magic.Slider.template='<div id="#{viewId}" class="tang-view"><div class="tang-content"><div class="tang-corner tang-start#{cornerClass}"></div><div class="tang-corner tang-last#{cornerClass}"></div><div id="#{innerId}" class="tang-inner"><div id="#{processId}" class="tang-process #{processClass}"></div></div></div><a id="#{knobId}" href="javascript:;" class="tang-knob"></a></div>';magic.setup.slider=function(c,b){var d=magic.setup(baidu3.dom("#"+c).get(0),magic.control.Slider,b),a=d.getElement();d.$mappingDom("view",baidu3(".tang-view",a)[0]);d.$mappingDom("knob",baidu3(".tang-knob",a)[0]);d.$mappingDom("process",baidu3(".tang-process",a)[0]);d.$mappingDom("inner",baidu3(".tang-inner",a)[0]);d.fire("load");return d};baidu3.lang.register(magic.control.Slider,function(a){var b=this,c=b._info;c.cache&&c.cache.enable&&b.on("load",function(){var d=b.getElement("inner"),f=c._accuracyKey,h=c._oppsite?"tang-cache-backward":"tang-cache-forward",g=b.$getId("cache"),e=c._oppsite?'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-start"></div>':'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-last"></div>';baidu3.dom(d).insertHTML("afterBegin",baidu3.string.format(e,{id:g,cacheClass:h}))})},{setCache:function(e){var d=this,f=d._info,b=d.getElement("cache"),c=e*f._limit,a=d._cachePercent(c);e==0?baidu3.dom(b).css("overflow","hidden"):baidu3.dom(b).css("overflow","");baidu3.dom(b).css(f._accuracyKey,d._cachePercent(c))},_cachePercent:function(a){return a/this._info._limit*100+"%"}});baidu3.fx.move=function(b,a){if(!(b=baidu3.dom.g(b))||baidu3.dom.getStyle(b,"position")=="static"){return null}a=baidu3.object.extend({x:0,y:0},a||{});if(a.x==0&&a.y==0){return null}var c=baidu3.fx.create(b,baidu3.object.extend({initialize:function(){this.protect("top");this.protect("left");this.originX=parseInt(baidu3.dom.getStyle(b,"left"))||0;this.originY=parseInt(baidu3.dom.getStyle(b,"top"))||0},transition:function(d){return 1-Math.pow(1-d,2)},render:function(d){b.style.top=(this.y*d+this.originY)+"px";b.style.left=(this.x*d+this.originX)+"px"}},a),"baidu3.fx.move");return c.launch()};baidu3.fx.moveTo=function(d,b,c){if(!(d=baidu3.dom.g(d))||baidu3.dom.getStyle(d,"position")=="static"||typeof b!="object"){return null}var f=[b[0]||b.x||0,b[1]||b.y||0];var a=parseInt(baidu3.dom.getStyle(d,"left"))||0;var g=parseInt(baidu3.dom.getStyle(d,"top"))||0;var e=baidu3.fx.move(d,baidu3.object.extend({x:f[0]-a,y:f[1]-g},c||{}));return e};baidu3.lang.register(magic.control.Slider,function(a){var c=this,b=c._info.fx;c.on("startFx",function(d){if(b&&b.enable){c._fx&&c._fx.end();c._recover();c._fxMove(d.knob,d.process,d.pos,d.fn);d.returnValue=false}})},{setValue:function(c,a){var b=this,e=b._info,d=e._accuracyKey,c=c||0,f=e[d]*c;if(e._oppsite){f=e[d]*b._accSub(1,c)}b._setPosition({target:null,noAccuracy:true,noFx:a},f);e.currentValue=c},_fxMove:function(d,b,j,k){var h=this,e=h._info,c=e.fx,f=e._knobKey,g=e._accuracyKey,j=parseFloat(h._getKnobPos(j)),a=e._isVertical?[0,j]:[j,0];h._setCurrentValue(j);h._fx=baidu3.fx.moveTo(d,a,{duration:c.duration||200,onbeforestart:function(){h.fire("onfxstart")},onafterupdate:function(){var l=h._getProcessPos(h._getRealPos(d,f));baidu3.dom(b).css(g,l);h.fire("onfx")},onafterfinish:function(){h.fire("onfxstop");h._reset(j);k&&k(j);delete h._fx}})||k&&k()}});magic.control.Tab=baidu3.lang.createClass(function(a){var c=this,b=baidu3.fn.bind("_toggleHandler",c);c._options=baidu3.object.extend({selectEvent:"click",selectDelay:0,originalIndex:0},a);c._selectedIndex=c._options.originalIndex;c.on("onload",function(e){var d=c.getElement();c.$mappingDom("title",baidu3(".tang-title",d)[0]).$mappingDom("body",baidu3(".tang-body",d)[0]);baidu3.dom(c.getElement("title")).on(c._options.selectEvent,b);c.on("ondispose",function(){baidu3.dom(c.getElement("title")).off(c._options.selectEvent,b)});c.select(c._selectedIndex)})},{type:"magic.control.Tab",superClass:magic.Base}).extend({_toggleHandler:function(a){if(a.target.className=="tang-title"){return}var c=this,d=a.target;function b(){var h=baidu3.dom(d).closest(".tang-title-item").get(0),j=baidu3.dom(c.getElement("title")).children(),e=j.length,f=0;if(!h){return}for(var g=0;g<e;g++){if(j[g]===h){f=g;break}}c._selectedIndex!=f&&c.select(f)}if(/^(on)?mouseover$/i.test(c._options.selectEvent)){clearTimeout(c._timeOut);c._timeOut=setTimeout(b,c._options.selectDelay)}else{b()}},select:function(b){var c=this,d=baidu3.dom(c.getElement("title")).children(),a=baidu3.dom(c.getElement("body")).children();if(!c.fire("onbeforeselect",{index:c._selectedIndex})){return}baidu3.dom(d[c._selectedIndex]).removeClass("tang-title-item-selected");baidu3.dom(a[c._selectedIndex]).removeClass("tang-body-item-selected");c._selectedIndex=b;baidu3.dom(d[b]).addClass("tang-title-item-selected");baidu3.dom(a[b]).addClass("tang-body-item-selected");c.fire("onselect",{index:c._selectedIndex})},getCurrentTitle:function(){var a=this;return baidu3.dom(a.getElement("title")).children()[a._selectedIndex]},getCurrentContent:function(){var a=this;return baidu3.dom(a.getElement("body")).children()[a._selectedIndex]},$dispose:function(){var a=this;if(a.disposed){return}magic.Base.prototype.$dispose.call(a)}});magic.Tab=baidu3.lang.createClass(function(a){var b=this;b._items=a.items||[]},{type:"magic.Tab",superClass:magic.control.Tab}).extend({tplTitle:'<li class="#{titleClass}"><a href="#" onclick="return false" hidefocus="true"><span>#{content}</span></a></li>',tplBody:'<div class="#{bodyClass}">#{content}</div>',toHTMLString:function(){var c=this,b='<ul class="#{titleClass}">#{titleContent}</ul><div class="#{bodyClass}">#{bodyContent}</div>',a=[],d=[];baidu3.array.each(c._items,function(f,e){a.push(baidu3.string.format(c.tplTitle,{titleClass:"tang-title-item"+(c._selectedIndex==e?" tang-title-item-selected":""),content:f.title}));d.push(baidu3.string.format(c.tplBody,{bodyClass:"tang-body-item"+(c._selectedIndex==e?" tang-body-item-selected":""),content:f.content}))});return baidu3.string.format(b,{titleClass:"tang-title",titleContent:a.join(""),bodyClass:"tang-body",bodyContent:d.join("")})},render:function(c){var b=this,a;if(b.getElement()){return}b.$mappingDom("",baidu3.dom("#"+c).get(0)||document.body);a=b.getElement();baidu3.dom(a).addClass("tang-ui tang-tab");baidu3.dom(a).insertHTML("beforeEnd",b.toHTMLString());b.fire("onload")},$dispose:function(){var b=this,c,a;if(b.disposed){return}c=b.getElement("title");a=b.getElement("body");baidu3.dom(b.getElement()).removeClass("tang-ui tang-tab");magic.Base.prototype.$dispose.call(b);baidu3.dom(c).remove();baidu3.dom(a).remove();c=a=null}});magic.setup.tab=function(c,b){var a=magic.setup(baidu3.dom("#"+c).get(0),magic.control.Tab,b);a.fire("onload");return a};